---
title: "TCA Architecture in SwiftUI"
excerpt: "SwiftUI"

categories:
  - swiftui

toc: true
toc_sticky: true
---

## 1. TCA ì´ë€?

- The Composable Architecture ì˜ ì•½ìë¡œì„œ PointFree ì—ì„œ ì†Œê°œëœ ì•±êµ¬ì¡° ë¼ì´ë¸ŒëŸ¬ë¦¬ ì…ë‹ˆë‹¤

> TCA Official Github - [https://github.com/pointfreeco/swift-composable-architecture](https://github.com/pointfreeco/swift-composable-architecture)

TCAëŠ” ë‹¨ë°©í–¥ Flow architecture ë¡œì¨ ë‹¨ë°©í˜•ìœ¼ë¡œëŠ” Redux, MVI, ReactorKit ê³¼ ê°™ì€ êµ¬ì¡°ì™€ ë¹„ìŠ·í•œ Architecture ì…ë‹ˆë‹¤.

## 2. TCA Diagram

<img width="975" alt="image" src="https://user-images.githubusercontent.com/28912774/216802647-515e9e3b-7f0f-402d-95af-72db22e9aa82.png">

- í¬ê²Œ 2ê°€ì§€ë¡œ ë‚˜ëˆ„ë©´ `View` ì™€ `Store` ê°€ ìˆê³ , ê·¸ Store ì•ˆì—ëŠ” `Action`, `Reduce`, `State` ì´ ìˆìŠµë‹ˆë‹¤

### State

- A type that describes the data your feature needs to perform its logic and render its UI.

- ìƒíƒœê°’ì¸ë° action ì— ë”°ë¼ì„œ ë¡œì§ì´ ëœë”ë˜ê³  ê·¸ê²ƒì´ UI View ì— ë‚˜íƒ€ ë‚´ëŠ”ê²ƒ

### Action

- A type that represents all of the actions that can happen in your feature, such as user actions, notifications, event sources and more.

- ìƒíƒœì™€ ì—°ê²°ë˜ì–´ ìˆëŠ”ë° Action ì€ State ì— ì–´ë– í•œ ì´ë²¤íŠ¸ ë™ì‘ì„ ê°€ë¦¬í‚´

### Reducer

- A function that describes how to evolve the current state of the app to the next state given an action. The reducer is also responsible for returning any effects that should be run, such as API requests, which can be done by returning an `Effect` value.

- ì‹¤ì œë¡œ Action ë“¤ì´ ë“¤ì–´ ì™”ì„ë•Œ, ìƒíƒœë¥¼ ì–´ë–»ê²Œ ë³€ê²½ì„ í•  ê±´ì§€ì— ëŒ€í•´ì„œ ë‚˜ì˜´ ì˜ˆì‹œë¡œ API ìš”ì²­í•˜ë©´ `Effect` ì„ return ì„ í•¨

### Store

- The runtime that actually drives your feature. You send all user actions to the store so that the store can run the reducer and effects, and you can observe state changes in the store so that you can update UI.

- Store ê°€ Viewë¥¼ ì œì™¸í•œ ë‚˜ë¨¸ì§€ë¶€ë¶„ì„ ê´€í• í•œë‹¤ê³  ë³´ë©´ë¨. Store ë¥¼ í†µí•´ì„œ Action ë“¤ì´ ë“¤ì–´ì˜¤ê³ , Reducer ë¥¼ í†µí•´ì„œ ë¹„ì§€ë‹ˆìŠ¤ ë¡œì§ì„ ë³€ê²½ì´ ë˜ë©´ì„œ State ë¥¼ ë³€ê²½ì‹œí‚´ -> Store ì—ì„œ Viewë¡œ UI ë¥¼ ì—…ë°ì´íŠ¸ ì‹œì¼œì¤Œ

ë°ì´í„°ì˜ íë¦„ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.

1. `View` ì—ì„œ ì–´ë– í•œ ìƒíƒœ ë³€í™”ë‚˜, ì´ë²¤íŠ¸ë¥¼ ì‹¤í–‰ì„ í•˜ê²Œ ë˜ë©´ `Action` ì— ì‹ í˜¸ë¥¼ ì „ë‹¬í•©ë‹ˆë‹¤

2. ê·¸ ì´í›„ì— `Reduce` ëŠ” ê·¸ ë¡œì§ì„ ì²˜ë¦¬í•˜ê³  ê²°ê³¼ ê°’ì„ `State` ì— ë„˜ê²¨ ì¤ë‹ˆë‹¤

3. ê·¸ëŸ¬ë©´ ìƒˆë¡œìš´ `State` ê°’ì€ update ë˜ì–´ì„œ ìƒˆë¡œìš´ `View` ì— ì ìš©í•˜ê²Œ ë©ë‹ˆë‹¤

## 3. MVVM ê³¼ì˜ ì°¨ì´ì 

- MVVM ì„ ViewModel ì´ Stateë¥¼ ê°€ì§€ê³  ìˆë‹¤ê³  ë³´ë©´ë˜ëŠ”ë°, MVVM ìì²´ë¡œëŠ” ViewModel ì•ˆì—ì„œ ë¡œì§ì²˜ë¦¬ë„ ìˆì§€ë§Œ, State ì™€ Action ë“¤ì´ ê°™ì´ ë¬¶ì—¬ì ¸ ìˆì§€ ì•Šê³  ì¦‰, ë°”ì¸ë”© ë˜ì§€ ì•Šì•„ì„œ ë”°ë¡œ ë…¼ë‹¤ëŠ” ì 

- TCA ëŠ” ìŠ¤í† ì–´ì—ì„œ ì¢…í•©ì ìœ¼ë¡œ ë¡œì§, state, action ë“±ì„ í•˜ë‚˜ë¡œ ì¢…í•©ì ìœ¼ë¡œ ì²˜ë¦¬í•œë‹¤ëŠ” ê²ƒì„. ìŒìœ¼ë¡œ ë¬¶ì–´ì„œ ì²˜ë¦¬í•œë‹¤ê³  ë³´ë©´ ë¨

## 4. TCA ë¥¼ ì‚¬ìš©í•´ì•¼ë˜ëŠ” ì´ìœ ?

- Better State Management: State ë¥¼ View ì—ì„œ ë¶„ë¦¬ë¥¼ ì‹œì¼œì„œ Reduce function ì—ì„œë§Œ State ë¥¼ ë³€ê²½í•  ìˆ˜ ìˆê³ , functional í•˜ê²Œ state ë¥¼ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤ëŠ” ì¥ì ì´ ìˆê³  -> ë¡œì§ì´ ê°„ê²°í•´ì§

- Easy to debug: ë°ì´í„°ì˜ íë¦„ì´ ë‹¨ë°©í–¥ì´ê¸° ë•Œë¬¸ì— Reduce í•¨ìˆ˜ ë‚´ë¶€ì—ì„œ Action ê³¼ State ê°€ ì–´ë–»ê²Œ ì²˜ë¦¬ë˜ëŠ”ì§€ë§Œ ë³´ê¸°ë•Œë¬¸ì— Debugging ì´ ì‰¬ì›Œì§ (ì–‘ë°©í–¥ì¸ MVVM ê°™ì€ê²½ìš° ì½”ë“œê°€ ë³µì¡í•´ì§ˆë•Œ debug ê°€ ì°¾ì•„ë‚´ê¸°ê°€ ì–´ë ¤ì›€)

- Enhance Testability: View ì™€ Logic ì„ ì•„ì˜ˆ ë¶„ë¦¬ í–ˆê¸° ë•Œë¬¸ì— Reduce ì— ìˆëŠ” ë¡œì§ë§Œ test í•˜ë©´ë˜ê¸°ë•Œë¬¸ì— Test íš¨ê³¼ í–¥ìƒë¨

- Modularization (Composability): Reduce ë¼ëŠ” ê²ƒì´ í•˜ë‚˜ì˜ ëª¨ë“ˆë¡œ ë¶„ë¦¬ë¥¼ í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ì¬ì‚¬ìš© ê°€ëŠ¥í•˜ê²Œ reduce ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŒ

<!-- <p align="center">
  <img height="400"  alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º" src="">
</p> -->

<!-- README í•œ ì¤„ì— ì—¬ëŸ¬ screenshoot ë†“ê¸° ì˜ˆì œ -->
<!-- <p>
   <img height="400" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º" src="">
   <img height="400" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º" src="">
   <img height="400" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º" src="">
</p> -->

---

s

<!-- ğŸ”¶ ğŸ”· ğŸ“Œ ğŸ”‘ ğŸ‘‰ -->

## ğŸ—ƒ Reference

ê°œë°œí•˜ëŠ” ì •ëŒ€ë¦¬ - [https://youtu.be/fYQ9YnbvasU](https://youtu.be/fYQ9YnbvasU)

ìŠ¤ìœ„í”„íŠ¸í•˜ì´ - [https://www.youtube.com/watch?v=vU_pRzQMoho](https://www.youtube.com/watch?v=vU_pRzQMoho)

ì½”ë“œ ìŠ¤ì¿¼ë“œ - [https://www.youtube.com/watch?v=2DO420E9lvs](https://www.youtube.com/watch?v=2DO420E9lvs)
