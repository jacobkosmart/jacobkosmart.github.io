---
title: "UIkit Basic 6 ()"
excerpt: "UIkit Basic"

categories:
  - uikit

toc: true
toc_sticky: true
---

## ğŸ•° Timer-App

Timer ë¥¼ ì´ìš©í•´ì„œ 25ë¶„ê°„ ì§‘ì¤‘í•˜ê³ , 5ë¶„ê°„ íœ´ì‹ì„ ì·¨í•˜ëŠ” ë°©ì‹ì…ë‹ˆë‹¤

## ğŸ“Œ ê¸°ëŠ¥ ìƒì„¸

- DatePicker ë¥¼ í†µí•´ íƒ€ì´ë¨¸ ì‹œê°„ì„ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤

- ì‹œì‘ ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ íƒ€ì´ë¨¸ê°€ ì‹œì‘ë˜ê³  ì¼ì‹œ ì •ì§€ë¥¼ ëˆ„ë¥´ë©´ íƒ€ì´ë¨¸ê°€ ì¼ì‹œì •ì§€ ë©ë‹ˆë‹¤

- ì·¨ì†Œ ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ íƒ€ì´ë¨¸ê°€ ì¢…ë£Œë©ë‹ˆë‹¤

- ì¹´ìš´íŠ¸ ë‹¤ìš´ì´ ì™„ë£Œë˜ë©´ ì•ŒëŒì´ ìš¸ë¦½ë‹ˆë‹¤

## ğŸ”‘ Check Point !

### ğŸ”· DispatchSourceTimer

- Timer: íŠ¹ì •ì‹œê°„ì´ ì§€ë‚œ í›„ì—, event ë¥¼ ë°œìƒ ì‹œí‚¨ë‹¤ê±°ë‚˜, ë°˜ë³µì ì¸ ì£¼ê¸°ë¡œ íŠ¹ì •ì‘ì—…ì„ ìˆ˜í–‰í•˜ë° ì‚¬ìš©í•  ìˆ˜ ìˆìŒë‹ˆë‹¤

- GCD(Grand Central Dispatch) : ì‘ì—…ì„ ë³‘ë ¬ì ìœ¼ë¡œ ì²˜ë¦¬í•˜ê¸° ìœ„í•´ apple ì´ ì¬ê³µí•˜ëŠ” API ì…ë‹ˆë‹¤. thread ë¥¼ ë§Œë“¤ê±°ë‚˜, ê´€ë¦¬í•´ì•¼ë˜ëŠ” ì‘ì—…ë“¤ì„ ë³´ë‹¤ ì‰½ê²Œ ì œì–´ í•´ì¤ë‹ˆë‹¤. GCD ë¥¼ ì´ìš©í•˜ë©´ ë§Œë“¤ì–´ì§„ pool ì— task ë“¤ì´ ë‹´ê²¨ ìˆëŠ” queue ì„ ë§Œë“¤ê³ , ê·¸ queue ë¥¼ GCD ì— ë³´ë‚´ë©´, GCD ê°€ ëª¨ë“  thread ë¥¼ ê´€ë¦¬í•´ ì¤ë‹ˆë‹¤

> For more detail GCD in apple devDocs - https://developer.apple.com/documentation/DISPATCH

### ğŸ”· UIViewAnimation

#### í™”ë©´ì˜ transition íš¨ê³¼ ì ìš©í•˜ê¸° (alpha ê°’ ì¡°ì ˆ)

- Viewì˜ ì—¬ë¶€ë¥¼ isHidden ê°’ì´ ì•„ë‹Œ, alpha ê°’ìœ¼ë¡œ ì„¤ì •í•´ì„œ View ê°€ ì‚¬ë¼ì§€ê³  í‘œì‹œë˜ê²Œ ë§Œë“­ë‹ˆë‹¤. alpha ê°’ì€ opacity ê°’ì„ ì¡°ì ˆí•˜ëŠ” ì¸ì ì…ë‹ˆë‹¤. ìµœì†Œ 0 ~ 1ê¹Œì§€ ì„¤ì •í•˜ëŠ”ë° 0 ì— ê°€ê¹Œìš¸ìˆ˜ë¡ view ê°€ íˆ¬ëª…í•´ ì§‘ë‹ˆë‹¤.

```swift

func stopTimer() {
	// .pause ìƒíƒœ ì¼ê²½ìš°ì— resume method ìƒì„±ë˜ê²Œ ì‘ì„±
	if self.timerStatus == .pause {
		self.timer?.resume()
	}
	self.timerStatus = .end
	self.cancelBtn.isEnabled = false
	// alpha ê°’ ì¡°ì ˆì„ í†µí•œ animation
	UIView.animate(withDuration: 0.5, animations: {
		self.timerLabel.alpha = 0
		self.pregressView.alpha = 0
		self.datePicker.alpha = 1
	})

@IBAction func tabCancelBtn(_ sender: UIButton) {
	switch self.timerStatus {
		// start, paue ìƒíƒœì—ì„œ cancelBtn ëˆ„ë¥´ë©´ .end ìƒíƒœë¡œ ë†“ê³ , cancelBtn ì„ ë¹„í™œì„±í™”ë¡œ í•˜ê³ , timerLabelê³¼ pregressView ê°€ í‘œì‹œë˜ì§€ ì•Šê²Œí•¨, datePicker ê°€ ë‹¤ì‹œ í‘œì‹œë˜ê²Œ í•¨, toggleBtnì´ strart ë˜ê²Œ í•¨
	case .start, .pause:
		switch self.timerStatus {
			// end ì¼ê²½ìš° ì•„ì§ ì‹œì‘ ì•ˆí•œìƒíƒœ timer label ê³¼ progressView ê°€ í‘œì‹œë˜ê²Œ í•˜ê³ , datePicker ê°€ hidden ë˜ê²Œ í•¨
	case .end:
		self.currentSeconds = self.duration // í˜„ì¬ ì‹œê°„ì„ duration ì— ëŒ€ì… ì‹œí‚´
		self.timerStatus = .start
		// alpha ê°’ ì¡°ì ˆì„ í†µí•œ animation
		UIView.animate(withDuration: 0.5, animations: {
			self.timerLabel.alpha = 1
			self.pregressView.alpha = 1
			self.datePicker.alpha = 0
		})
```

![Kapture 2021-12-17 at 14 01 52](https://user-images.githubusercontent.com/28912774/146491720-a7d35e0f-7796-41c8-881a-29687cce3557.gif)

#### ê³ ì •ë˜ì–´ ìˆëŠ” image ì˜ íšŒì „ íš¨ê³¼ animation

```swift
	// image rotation animation
	UIView.animate(withDuration: 0.5, delay: 0, animations: {
		// CGAffineTransform ì€ êµ¬ì¡°ì²´ ì¸ë°, view ì˜ frame ì„ ê³„ì‚°í•˜ì§€ ì•Šê³  2D ê·¸ë˜í”½ì„ ê·¸ë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤. (ì˜ˆë¥¼ ë“¤ì–´ Viewë¥¼ ì´ë™ ì‹œí‚¤ê±°ë‚˜, íšŒì „ì‹œí‚¤ëŠ” íš¨ê³¼ë¥¼ ì¤„ìˆ˜ ìˆìŠµë‹ˆë‹¤. rotationAngle: .pi ì€ 180ë„ íšŒì „ì„ ì˜ë¯¸í•©ë‹ˆë‹¤.
		self.imageView.transform = CGAffineTransform(rotationAngle: .pi)
	})
	// ë‹¤ì‹œ 360ë„ íšŒì „ ì‹œí‚´ : ìœ„ì— 180 ë„ íšŒì „ animation ì´ ëë‚˜ë©´ ë™ì‘ í•  ìˆ˜ ìˆê²Œ delay 0.5 ì„¤ì •
	UIView.animate(withDuration: 0.5, delay: 0.5, animations: {
		self.imageView.transform = CGAffineTransform(rotationAngle: .pi * 2)
	})

	self.imageView.transform = .identity // cancel ë˜ë©´ imageView ê°€ ì›ìƒíƒœë¡œ ë˜ê²Œ í•¨
```

![Kapture 2021-12-17 at 14 03 38](https://user-images.githubusercontent.com/28912774/146491833-56ba41f5-5cdc-4fa5-9652-9d604fe4dbb5.gif)

---

ğŸ”¶ ğŸ”· ğŸ“Œ ğŸ”‘ ğŸ‘‰

## ğŸ—ƒ Reference

diary-ios-practice code - [https://github.com/jacobkosmart/timer-ios-practice.git](https://github.com/jacobkosmart/timer-ios-practice.git)

ì¬:í¸ì§‘ ê°œë°œë¸”ë¡œê·¸ - [https://dev-dream-world.tistory.com/133](https://dev-dream-world.tistory.com/133)

fastcampus - [https://fastcampus.co.kr/dev_online_iosappfinal](https://fastcampus.co.kr/dev_online_iosappfinal)
