---
title: "Optional, Optional Chaining"
excerpt: "Swift"

categories:
  - swift

toc: true
toc_sticky: true
---

## ğŸ”· Optional

- Swift ì—ì„œ ì˜µì…”ë„ ì´ë€?: ê°’ì´ ìˆì„ ìˆ˜ ë„ ìˆê³ , ì—†ì„ ìˆ˜ ë„ ìˆë‹¤ëŠ” ìƒíƒœë¥¼ ë§í•¨

```swift
// ì˜µì…”ë„?
// ê°’ì´ ìˆëŠ”ì§€ ì—†ëŠ”ì§€ ëª¨ë¥¸ë‹¤.

// ê°’ì´ ìˆìœ¼ë©´ Int type ì´ê³  ì—†ìœ¼ë©´ nil ì´ë¼ëŠ”ê²ƒì„
var someVariable: Int? = nil

if someVariable == nil {
	someVariable = 90
}

print("somVariable: \(someVariable)") // Optional (90)
```

## ğŸ”· Unwrapping

- ê°ì‹¸ì ¸ìˆëŠ”ê²ƒì„ ë²—ê¸°ëŠ”ê²ƒ - optional ì˜ ê°’ì„ ë²—ê²¨ ë‚´ëŠ”ê²ƒ

```swift
// unwrapping í•˜ëŠ” ë°©ë²• 1
// ê°ì‹¸ì ¸ìˆëŠ”ê²ƒì„ ë²—ê¸°ëŠ”ê²ƒ - optional ì˜ ê°’ì„ ë²—ê²¨ ë‚´ëŠ”ê²ƒ

// someVaribale ì— ê°’ì´ ìˆìœ¼ë©´ otherVariable ê°’ì„ ë„£ëŠ” ë‹¤ëŠ”ê²ƒ
if let otherVariable = someVariable {
	print("ì–¸ë˜í•‘ë˜ì–´ ê°’ì´ ìˆë‹¤ : \(otherVariable)") // 90 ì¶œë ¥ë¨
} else { // ê°’ì´ ì—†ì„ë•Œ
	print("ê°’ì´ ì—†ë‹¤")
}
```

```swift
// unwrapping í•˜ëŠ” ë°©ë²• 2
// someVariable ì— ê°’ì´ ì—†ì„ë•Œ
someVariable = nil

// someVariable ì´ ë¹„ì–´ìˆì„ ê²½ìš°, ì¦‰ ê°’ì´ ì—†ì„ ê²½ìš°ì— ê¸°ë³¸ê°’ ì„¤ì •í•˜ê¸°
let myValue = someVariable ?? 10 // ê°’ì´ ì—†ì„ ê²½ìš°ì— 10ì„ ë„£ê¸°
print("myValue: \(myValue)") // myValue: 10
```

```swift
// unwrapping í•˜ëŠ” ë°©ë²• 3
var firstValue : Int? = 30
var secondValue : Int? = 50

// unwrapping ì„ í•˜ì§€ ì•Šì€ ìƒíƒœ
print("firstValue : \(firstValue)") // firstValue : Optional(30)
print("secondValue : \(secondValue)") // secondValue : Optional(50)

func unwrap(_ parameter: Int?) {
	print("unwrap() called")
	// ê°’ì´ ì—†ìœ¼ë©´ return í•´ë²„ë¦¼ if let {} else {} ì™€ ê°™ì€ê±´ë° ì¤„ì—¬ì„œ guard let ìœ¼ë¡œ ìì£¼ ì“°ì„ (ê°’ì´ ì—†ìœ¼ë©´ ì§€ë‚˜ê°„ë‹¤ ë¼ëŠ” ëœ»ì„)
	guard let unWrappedParm  = parameter else { return }
	print("unWrappedParam: \(unWrappedParm)")
}

// guard let ì„ í†µí•œ unwrapping í•˜ê¸°
unwrap(firstValue) // unWrappedParam: 30
unwrap(secondValue) // unWrappedParam: 50
```

## ğŸ”· Optional Chaining

```swift
struct Friend {
	let nickname: String
	let person: Person?
}

struct Person {
	let name: String
	let pet: Pet?
}

struct Pet {
	let name: String?
	let kind: String
}

let pet = Pet(name: "ì½”ì½”", kind: "ê°•ì•„ì§€")
let person = Person(name: "Jacob", pet: pet)
let friend = Friend(nickname: "jacobkosmart", person: nil)

// ì´ëŸ°ì‹ìœ¼ë¡œ Optional ì´ ì—°ì‡„ì ìœ¼ë¡œ ìˆì„ë•Œ
if let person = friend.person {
	if let pet = person.pet {
		if let petName = pet.name {
			print("petName: \(petName)")
		}
	}
}

// Optional Chaining
// í•œë²ˆë§Œ unwrapping í•˜ê³  ë‚˜ë¨¸ì§€ëŠ” optional ì²˜ë¦¬ê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤

if let petName = friend.person?.pet?.name {
	print("petName: \(petName)")
} else {
	// person, pet, name ì¤‘ í•˜ë‚˜ê°€ nil ì´ë©´
	print("íŒ» ì´ë¦„ì´ ì—†ì–´ìš”") // í« ì´ë¦„ì´ ì—†ì–´ìš”
}

```

## ğŸ”· case let optional pattern

case let ì„ í™œìš©í•´ì„œ optional ì—ì„œ nil ì„ ì œì™¸í•˜ê³  collection ì—ì„œ ê°’ì´ ìˆëŠ” ê²ƒë§Œ ê°€ì ¸ ì˜¬ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```swift
let friends: [String?] =
	[nil, "Jacob", "Emma", nil, "John"]

for case let friend? in friends {
	print("Find my Friend: \(friend)")
}

// Find my Friend: Jacob
// Find my Friend: Emma
// Find my Friend: John
```

---

<!-- ğŸ”¶ ğŸ”· ğŸ“Œ ğŸ”‘  -->

## Reference

Swift official docs Enumerations- [https://docs.swift.org/swift-book/LanguageGuide/Enumerations.html](https://docs.swift.org/swift-book/LanguageGuide/Enumerations.html)

ê°œë°œí•˜ëŠ” ì •ëŒ€ë¦¬ ìŠ¤ìœ„í”„íŠ¸ ê¸°ì´ˆ ë¬¸ë²• - 5ì¼ì°¨ / Unwrap ì˜µì…”ë„ ë³€ìˆ˜ - [https://www.youtube.com/watch?v=60VSuIY81iQ](https://www.youtube.com/watch?v=60VSuIY81iQ)
