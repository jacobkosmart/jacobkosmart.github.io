---
title: "Dependency injection (ì˜ì¡´ì„± ì£¼ì…)"
excerpt: "Swift"

categories:
  - swift

toc: true
toc_sticky: true
---

## ğŸ”· Dependency injection (ì˜ì¡´ì„± ì£¼ì…)

- ì˜ì¡´ì„± ì£¼ì…ì€ í¬ê²Œ 3ìê¸° ë°©ë²•ì´ ìˆìŠµë‹ˆë‹¤

      	1. ìƒì„±ì ë©”ì„œë“œë¡œ ì°”ëŸ¬ ë„£ê¸°

        2. ë§´ë²„ ë³€ìˆ˜ì— ì§ì ‘ ì°”ëŸ¬ ë„£ê¸°

        3. ì£¼ì… ë©”ì†Œë“œë¥¼ ë”°ë¡œ ë§Œë“¤ì–´ì„œ ì°”ëŸ¬ ë„£ê¸° (ì´ê±´ ì˜ ì‚¬ìš© ì•ˆí•¨)

```swift
protocol Talk {
	func sayHi()
}

// bestFriend, oldFriend ì˜ talk class ë“¤ì€ talk protocol ì„ implement
// í•˜ê¸° ë•Œë¬¸ì— sayHi ë©”ì†Œë“œ ì •ì˜ê°€ ê°•ì œë¨

class BestFriendTalk: Talk {
	func sayHi() {
		print("ì˜¤ëŠ˜ ë­ ë¨¹ì§€?")
	}
}

class OldFriendTalk: Talk {
	func sayHi() {
		print("ì´ì•¼ ì´ê²Œ ì–¼ë§ˆ ë§Œì´ì•¼?")
	}
}

// ì¹œêµ¬ í´ë˜ìŠ¤
class Friend {
	// ë§´ë²„ ë³€ìˆ˜ë¡œì„œ í† í¬ë¥¼ ê°€ì§„ë‹¤
	// ì™¸ë¶€ì—ì„œë„ ì£¼ì…ì´ ê°€ëŠ¥í•˜ë„ë¡ private ìœ¼ë¡œ ì•ˆí•¨
	var talk: Talk?
	init(talk: Talk) {
		self.talk = talk
	}
	// ì˜ì¡´ì„± ì£¼ì…ì´ ì™„ë£Œëœ? í† í¬ë¡œ ë§í•¨
	func sayHello() {
		talk?.sayHi()
	}
	// ì˜ì¡´ì„± ì£¼ì… ë©”ì†Œë“œ
	func setTalk(talk: Talk) {
		self.talk = talk
	}
}

// ì¹œêµ¬ ì¸ìŠ¤í„´ìŠ¤ ìƒì„±ì‹œì— í† í¬ë¥¼ ì£¼ì…ì‹œí‚´
let bfTalk = BestFriendTalk()
let myBestFriend = Friend(talk: bfTalk)
myBestFriend.sayHello()

// ì¹œêµ¬ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë§Œë“¤ê³  ë§´ë²„ ë³€ìˆ˜ì— ì°”ëŸ¬ ë„£ì–´ì„œ ì£¼ì…í•¨
let myOldFriendTalk = OldFriendTalk()
let myOldFried = Friend()
myOldFried.talk = myOldFriendTalk
myOldFried.sayHello()

```

---

<!-- ğŸ”¶ ğŸ”· ğŸ“Œ ğŸ”‘ ğŸ‘‰ -->

## Reference

Swift Tip of the day - ìŠ¤ìœ„í”„íŠ¸ ê¸°ì´ˆ ë¬¸ë²• - [https://spangle-wedelia-2dc.notion.site/Swift-Tip-of-the-day-c428bfd990674bcfa2a4973e5d08c4eb](https://spangle-wedelia-2dc.notion.site/Swift-Tip-of-the-day-c428bfd990674bcfa2a4973e5d08c4eb)

ê¼¼ê¼¼í•œ ì¬ì€ ì”¨ì˜ ìŠ¤ìœ„í”„íŠ¸ ë¬¸ë²•í¸ - [https://book.jacobko.info/#/book/1186710233](https://book.jacobko.info/#/book/1186710233)
