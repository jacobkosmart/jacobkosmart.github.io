---
title: "Protocol, Equatable Protocol"
excerpt: "Swift"

categories:
  - swift

toc: true
toc_sticky: true
---

## ğŸ”· Protocol

í”„ë¡œí† ì½œì€ í†µì‹ ê·œì•½ìœ¼ë¡œ ì¼ì¢…ì˜ ì•½ì†ì´ë¼ê³  ë³´ë©´ë©ë‹ˆë‹¤. ì´ê²ƒì„ ì“°ìê³  ì„œë¡œ ë¯¸ë¦¬ ì •í•´ ë†“ì€ê²ƒì„

ë³´í†µ delegate íŒ¨í„´ì˜ ê²½ìš°ì—ì„œ **delegate
ìŠ¤ìœ„í”„íŠ¸ ì–¸ì–´ ìì²´ì—ì„œëŠ” **ing, \*\*able ë“±ìœ¼ë¡œ í”„ë¡œí† ì½œì˜ ì´ë¦„ì„ ì •í•©ë‹ˆë‹¤

í”„ë¡œí† ì½œì„ í†µí•´ ë§´ë²„ë³€ìˆ˜, ë©”ì†Œë“œë“±ì„ ê¼­ êµ¬í˜„í•˜ë„ë¡ ê°•ì œ ì‹œí‚´

```swift
protocol Naming {
	// ìš°ë¦¬ëŠ” ì´ëŸ° ë³€ìˆ˜ë¥¼ ê°€ì§€ê³  ìˆì„ê²ë‹ˆë‹¤ ë¼ê³  ì•½ì†í•˜ëŠ”ê²ƒ
	var name: String { get set }
	// ìš°ë¦¬ëŠ” ì´ëŸ° ë©”ì†Œë“œë¥¼ ê°€ì§€ê³  ìˆì„ ê²ë‹ˆë‹¤ë¼ê³  ì•½ì†
	func getName() -> String
}

// Naming í”„ë¡œí† ì½œì„ implement í–ˆìŒ
struct Friend : Naming {
	var name: String

	func getName() -> String {
		return "ë‚´ ì¹œêµ¬: " + self.name
	}
}

var myFriend = Friend(name: "Jacob")

myFriend.getName() // "ë‚´ì¹œêµ¬: Jacob"

// ì´ë²¤íŠ¸ë¥¼ ì²˜ë¦¬í•œë‹¤ë˜ì§€, tableView, collectionView ë¥¼ ì²˜ë¦¬í• ë•Œ, ì“°ëŠ” pattern ì—ì„œ delegate pattern ì´ë¼ê³  ë‚˜ì˜¬í…ë° ê·¸ë•Œ ë¯¸ë¦¬ protocol ì„ ë§Œë“¤ê³ , ì´ë²¤íŠ¸ë¥¼ ë°›ëŠ”ì‹ìœ¼ë¡œ ì‚¬ìš©ì„ ë§ì´ í•©ë‹ˆë‹¤

```

### ğŸ”¶ Protocol ìƒì†

í”„ë¡œí† ì½œ ìì²´ëŠ” ìì‹ ì˜ ì¸ìŠ¤í„´ìŠ¤ëŠ” ë§Œë“¤ì§€ ëª»í•©ë‹ˆë‹¤.

í”„ë¡œí† ì½œì„ implement í•˜ë©´ í•´ë‹¹ í”„ë¡œí† ì½œì˜ ë³€ìˆ˜ë‚˜, ë©”ì†Œë“œì˜ ì„¤ì •ì´ ê°•ì œ ë©ë‹ˆë‹¤

í”„ë¡œí† ì½œë„ ìƒì†í•´ì„œ ì‚¬ìš©ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤

```swift
// ì´ë¦„
protocol Naming {
	var name: String { get set }
	func getName() -> String
}

// ë‚˜ì´
protocol AgeCountable {
	var age : Int { get set }
}

// ì´ë¦„, ë‚˜ì´ í”„ë¡œí† ì½œì„ ìƒì†í•˜ëŠ” ì¹œêµ¬ í”„ë¡œí† ì½œ
protocol Friendable: Naming, AgeCountable {

}

// ì¹œêµ¬ í”„ë¡œí† ì½œì„ implement í•˜ëŠ” myFriend struct
struct MyFriend : Friendable {
	var name: String
	var age: Int

	func getName() -> String {
		return self.name
	}
}

var myFriend = MyFriend(name: "Jacob", age: 40)
myFriend.getName() // "Jacob"
myFriend.age // 40
```

### ğŸ”¶ Protocol extension

í”„ë¡œí† ì½œì•ˆì—ì„œ method ëŠ” ì•ˆì—ì„œëŠ” body (logic) ì„ ë„£ì„ ìˆ˜ ì—†ìœ¼ë‚˜, extension ì„ ì‚¬ìš©í•˜ë©´ method ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤

```swift
// ì´ë¦„ê´€ë ¨ í”„ë¡œí† ì½œ
protocol Naming {
	var lastName: String { get set }
	var firstName: String { get set }
	// ì£¼ì˜! í”„ë¡œí† ì½œì—ì„œëŠ” ë¡œì§ì„ ì¶”ê°€ í•  ìˆ˜ ì—†ìŒ (protocol ì„ body ë¥¼ ê°€ì§ˆ ìˆ˜ ì—†ìŒ)
	func getName() -> String
}

// extension ì„ í†µí•´ í”„ë¡œí† ì½œì— ë©”ì†Œë“œ ì¶”ê°€ (protocol ì—ì„œ ë„£ì„ ìˆ˜ ì—†ì§€ë§Œ, extension ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŒ
extension Naming {
	func getFullName() -> String {
		return self.lastName + self.firstName
	}
}

// Naming í”„ë¡œí† ì½œì„ implement í•˜ëŠ” struct
struct Friend : Naming {
	var lastName: String
	var firstName: String
	func getName() -> String {
		return self.firstName
	}
}

let myFriend = Friend(lastName: "Jacob", firstName: "Ko")

let name = myFriend.getName()
print("ì„±: ", name) // ì„±: Ko

// friend ìŠ¤íŠ¸ëŸ­íŠ¸ì—ëŠ” ì—†ì§€ë§Œ
// í”„ë¡œí† ì½œ í™•ì¥ì„ í†µí•´
// ë©”ì†Œë“œê°€ ì¶”ê°€ëœ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŒ
let fullName = myFriend.getFullName()
print("í’€ë„¤ì„: \(fullName)") // í’€ë„¤ì„: JacobKo

```

### ğŸ”¶ Protocol associatedType

assiciatedtype ì„ í†µí•´ ì œë„¤ë¦­ìœ¼ë¡œ ì–´ë– í•œ ìë£Œë“±ì´ë“  ê°€ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤

```swift
protocol PetHavig {
	associatedtype T
	var pets: [T] { get set }
	// mutating ì„ í†µí•´ ìŠ¤íŠ¸ëŸ­íŠ¸ì—ì„œ ë§´ë²„ ë³€ìˆ˜ ê°’ ë³€ê²½
	mutating func gotNewPet(newPet: T)
}

// extension ìœ¼ë¡œ í”„ë¡œí† ì½œì˜ ë©”ì†Œë“œ ë¡œì§ êµ¬ì„±
extension PetHavig {
	mutating func gotNewPet(newPet: T) {
		self.pets.append(newPet)
	}
}

enum Animal {
	case cat, dog, bird
}

// ì• ì™„ë™ë¬¼ í”„ë¡œí† ì½œì„ implement í•˜ëŠ” ì¹œêµ¬ struct
struct Friend : PetHavig {
	// ë°°ì—´ì˜ ìë£Œí˜•ì´ Animal enum ì¸ê±¸ë¡œ ì‚¬ìš©ê°€ëŠ¥
	var pets = [Animal]()
}

// ì• ì™„ë™ë¬¼ í”„ë¡œí† ì½œì„ implement í•˜ëŠ” family struct
struct Family : PetHavig {
	// ë°°ì—´ì˜ ìë£Œí˜•ì´ ë¬¸ìì—´
	var pets = [String]()
}

var myFriend = Friend()
myFriend.gotNewPet(newPet: Animal.cat)
myFriend.gotNewPet(newPet: Animal.dog)
print(myFriend.pets)

var myFamily = Family()
myFamily.gotNewPet(newPet: "ê±°ë¶ì´")
myFamily.gotNewPet(newPet: "í† ë¼")
print(myFamily.pets) // ["ê±°ë¶ì´", "í† ë¼"]
```

## ğŸ”· Equatable Protocol

Equatable Protocol ì„ í†µí•´ì„œ ì»¤ìŠ¤í…€ ë¹„êµ ì—°ì‚°ìë¥¼ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤

```swift
struct PetKind {
	let name: String
}
struct Pet {
	let id: String
	let name: String
	let kind: PetKind
}


extension Pet: Equatable {
	public static func == (lhs: Pet, rhs: Pet) -> Bool {
		return lhs.id == rhs.id && lhs.kind.name == rhs.kind.name
	}
}

let catKind = PetKind(name: "ê³ ì–‘ì´")
let dogKind = PetKind(name: "ê°•ì•„ì§€")

let myPet1 = Pet(id: "01", name: "ë©ë©ì´", kind: dogKind)
let myPet2 = Pet(id: "01", name: "ëƒì˜¹ì´", kind: catKind)
let myPet3 = Pet(id: "01", name: "ì½”ì½”", kind: dogKind)

if myPet1.id == myPet3.id && myPet1.kind.name == myPet3.kind.name {
	print("ë‘ í«ì´ ê°™ë‹¤") // ë‘í«ì´ ê°™ë‹¤
} else {
	print("ë‘ í«ì´ ë‹¤ë¥´ë‹¤")
}

// ì»¤ìŠ¤í…€ ë¹„êµ ì—°ì‚°ì
print(myPet1 == myPet3) // true

```

---

<!-- ğŸ”¶ ğŸ”· ğŸ“Œ ğŸ”‘ ğŸ‘‰ -->

## Reference

ê¼¼ê¼¼í•œ ì¬ì€ ì”¨ì˜ ìŠ¤ìœ„í”„íŠ¸ ë¬¸ë²•í¸ - [https://book.jacobko.info/#/book/1186710233](https://book.jacobko.info/#/book/1186710233)

ê°œë°œí•˜ëŠ” ì •ëŒ€ë¦¬ ìŠ¤ìœ„í”„íŠ¸ ê¸°ì´ˆ ë¬¸ë²• - 21ì¼ì°¨ / Protocol - [https://www.youtube.com/watch?v=8nPQKGrpbmY&list=PLgOlaPUIbynoqbQw_erl3L2w7vfOTCtFD&index=21](https://www.youtube.com/watch?v=8nPQKGrpbmY&list=PLgOlaPUIbynoqbQw_erl3L2w7vfOTCtFD&index=21)
