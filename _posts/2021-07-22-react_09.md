---
title: "09.Context API"
excerpt: "react"

categories:
  - react

toc: true
toc_sticky: true
---

---


## 1.Context ë¬¸ë²•ìœ¼ë¡œ props ì—†ì´ state ê³µìœ í•˜ê¸°

- props ëŒ€ì‹  context ë¥¼ ì‚¬ìš©í•˜ë©´ í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ë“¤ì´ props ì—†ì´ë„ ë¶€ëª¨ì˜ ê°’ì„ ì‚¬ìš©ê°€ëŠ¥í•¨

```js
// in App.js

// ê°™ì€ ê°’ì„ ê³µìœ  í•˜ëŠ” ë²”ìœ„ ìƒì„±
export let stockContext = React.createContext();

function App(){
  let [stock, stockEdit] = useState([10,11,12]);

  return (
  )
}
```

- ê°™ì€ state ê°’ì„ ê³µìœ í•˜ê³  ì‹¶ìœ¼ë©´ context ë¶€í„° ë§Œë“¤ì–´ì•¼ í•¨. `createContext()` í•¨ìˆ˜ë¥¼ í†µí•´ ë³€ìˆ˜ë¥¼ ë§Œë“¤ë©´ ë¨


----

ë‹¤ìŒ ë‹¨ê³„ë¡œ state ê°’ ê³µìœ ë¥¼ ì›í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ë“¤ì„ stockContext.Provider value={state ì´ë¦„} ì´ë ‡ê²Œ ê³µë¥˜í•  state ë¥¼ ë„£ì–´ì„œ ëª¨ë“  HTML & component ëŠ” ì¬ê³  state ë¥¼ ì´ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```js
<stockContext.Provider value={stock}>

<Row>
  {
    shoes.map((a, i) => {
      return <Card shoes={shoes[i]} i={i} key={i} />
    })
  }
</Row>

</stockContext.Provider>
```

- ë‹¤ìŒì€ context ë¥¼ ë°›ì•„ì„œ ë‹¤ìŒê³¼ ê°™ì´ ì‚¬ìš©í•¨

ìœ„ì— ì½”ë“œë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œ hook ì„ í•˜ë‚˜ import í•´ì£¼ì•¼í•¨

```js
import { useContext, useEffect, useState } from 'react';
```

ê·¸ë‹¤ìŒì— ì‚¬ìš©í•  ê³³ì— ë³€ìˆ˜ë¥¼ ìƒì„± í•¨

```js
  let stock = useContext(stockContext);

  { stock }
```

ì´ëŸ°ì‹ìœ¼ë¡œ context ë²”ìœ„ë¥¼ ì„¤ì •í•´ì„œ ë°ì´í„° ì „ì†¡ì„ í•  ìˆ˜ ìˆìœ¼ë‚˜ ì ˆì°¨ê°€ ì¢€ ë³µì¡í•˜ê¸° ë•Œë¬¸ì—  ê°„ë‹¨í•œ ë°ì´í„° ì „ì†¡ì€ props ì„ ì‚¬ìš©í•˜ëŠ”ê²ƒì´ ì¢‹ë‹¤


- ìš”ì•½í•˜ìë©´

    1.React.createContext() ë¡œ ë²”ìœ„ë¥¼ ìƒì„±

    2.ê°™ì€ ê°’ì„ ê³µìœ í•  HTML ì„ <ë²”ìœ„>ë¡œ ì‹¸ë§¤ê¸°

    3.ê³µìœ ëœ ê°’ ì‚¬ìš©í•˜ê¸°


ìœ„ì™€ ë¹„ìŠ·í•œ ë°©ì‹ìœ¼ë¡œ Redux ë¼ëŠ” ë¼ì´ë¸Œë¥¼ ë§Œí ì‚¬ìš©í•¨ : ëª¨ë“  ì»´í¬ë„ŒíŠ¸íŒŒì¼ë“¤ì´ ê°™ì€ ê°’ì„ ê³µìœ í•  ìˆ˜ ìˆëŠ” ì €ì¥ ê³µê°„ ìƒì„± ê°€ëŠ¥ + state ë°ì´í„° ê´€ë¦¬ ê¸°ëŠ¥


## 2.ë‹¤ë¥¸ í•˜ìœ„ íŒŒì¼ì—ì„œ context ê³µìœ  ëœ ê°’ ì‚¬ìš©í•˜ê¸°

- ì˜ˆì‹œ

```js
// App.js

// Context ë¥¼ ë°–ìœ¼ë¡œ ë‚´ë³´ë‚´ê¸° ìœ„í•´ì„œ export í•´ì¤Œ
export let stockContext = React.createContext();

function App(){
  let [stock, editStock ] = useState([10,11,12]);

  return (
    <stockContext.Provider value={stock}>
      <Detail/>
    </stockContext.Provider>
  )
}
```

```js
// in Detail.js

// export ëœ Contextë¥¼ import í•´ì„œ ì‚¬ìš©
import {stockContext} from './App.js';

function Detail(){
  let stock = useContext(stockContext);  

  return (
    <HTML ì½”ë“œ/>
  )
}
```

ğŸ”¶ ğŸ”·  ğŸ“Œ ğŸ”‘

## Reference

- React Context- [https://reactjs.org/docs/context.html](https://reactjs.org/docs/context.html){:target="\_blank"}


- coding apple - [https://online.codingapple.com/course/react-basic/](https://online.codingapple.com/course/react-basic/){:target="\_blank"}

