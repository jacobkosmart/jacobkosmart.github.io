---
title: "iOS Basic 3 (UITableView, UIAlertController, UserDefaults)"
excerpt: "iOS Basic"

categories:
  - ios

toc: true
toc_sticky: true
---

## UITableView

ë°ì´í„°ë“¤ ëª©ë¡ í˜•íƒœë¡œ ë³´ì—¬ ì¤„ìˆ˜ ìˆëŠ” ê°€ì¥ ê¸°ë³¸ì ì¸ UI component ì´ë©°, UIScrollView ë¥¼ ìƒì† ë°›ê³  ìˆìœ¼ë¯€ë¡œ scroll ì´ ê°€ëŠ¥í•´ list í˜•íƒœì˜ í˜•íƒœë¡œ ë§ì€ ì •ë³´ë¥¼ ë³´ì—¬ ì¤„ ìˆ˜ ìˆìŠµë‹ˆë‹¤

- ì—¬ëŸ¬ ê°œì˜ Cell ì„ ê°€ì§€ê³  ìˆê³  í•˜ë‚˜ì˜ ì—´ê³¼ ì—¬ëŸ¬ ì¤„ì˜ í–‰ì„ ì§€ë‹ˆê³  ìˆìœ¼ë©°, ìˆ˜ì§ìœ¼ë¡œë§Œ í¬í¬ë¡¤ ê°€ëŠ¥í•©ë‹ˆë‹¤.

- ì„¹ì…˜ì„ ì´ìš©í•´ í–‰ì„ ê·¸ë£¹í™”í•˜ì—¬ ì»¨í…ì¸ ë¥¼ ì¢€ ë” ì‰½ê²Œ íƒìƒ‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

- ì„¹ì…˜ì˜ header ì™€ footer View ë¥¼ êµ¬ì„±í•˜ì—¬ ì¶”ê°€ì ì¸ ì •ë³´ë¥¼ í‘œì‹œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤

### UITableViewDataSource

ë°ì´í„°ë¥¼ ë°›ì•„ View ë¥¼ ê·¸ë ¤ì£¼ëŠ” ì—­í™œì…ë‹ˆë‹¤. ì´ section ì€ ëª‡ê°œì¸ì§€ í–‰,ì—´ì˜ ì–´ë– í•œ ì •ë³´ë¥¼ í‘œì‹œ í•  ê±´ì§€ë¥¼ ì •ì˜í•©ë‹ˆë‹¤

- UITableViewDataSource ì—ëŠ” ë‹¤ìŒê³¼ ê°™ì€ method ë¥¼ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤

#### numberOfRowsInsection

ê° section ì— í‘œì‹œí•  ìˆ˜ ìˆëŠ” method ë¡œ int type ìœ¼ë¡œ í–‰ì˜ ê°¯ìˆ˜ë¥¼ ë°˜í™˜ í•˜ë©´ tableView ì˜ ë°˜í™˜í•œ ê°¯ìˆ˜ ë§Œí¼ í–‰ì´ í‘œì‹œê°€ ë©ë‹ˆë‹¤. required í•­ëª©ì…ë‹ˆë‹¤

```swift
// ê° ì„¼ì…˜ì— í‘œì‹œí•  í–‰ì˜ ê°œìˆ˜ë¥¼ ë¬»ëŠ” ë©”ì„œë“œ
func tableView(_ tableView: UItableView, numberOfRowsInSection section: Int) -> Int
```

#### cellForRowAt

íŠ¹ì • index row ì— cell ì— ëŒ€í•œ ì •ë³´ë¥¼ ë„£ì–´ ë°˜í™˜í•˜ëŠ” method ì„. cell ì„ êµ¬ì„±í•˜ê³  ë³´ì—¬ì£¼ëŠ” ë°ì´í„°ë¥¼ í•´ë‹¹ method ì— ë°˜í™˜ í•˜ê²Œ ë˜ë©´ êµ¬ì„±í•œ cell ì´ table ì— í‘œì‹œë˜ê²Œ ë©ë‹ˆë‹¤. required í•­ëª©ì…ë‹ˆë‹¤

```swift
// íŠ¹ì • index Row ì˜ Cell ì— ëŒ€í•œ ì •ë³´ë¥¼ ë„£ì–´ Cell ì„ ë°˜í™˜í•˜ëŠ” ë§¤ì„œë“œ
func tableView(_ tableView: UItableView, cellForRowAt indexPath: indexPath) -> UITableViewCell
```

#### numberOfSections

ì´ section ê°¯ìˆ˜ë¥¼ ë¬¼ì–´ë³´ëŠ” method int type ìœ¼ë¡œ section ì˜ ê°¯ìˆ˜ë¥¼ ë°˜í™˜í•˜ëŠ”ë°, table view ì— ë°˜í™˜í•˜ëŠ” ê°¯ìˆ˜ ë§Œí¼ section ì´ í‘œì‹œë˜ëŠ”ê²ƒ

```swift
// ì´ ìƒ‰ì…˜ ê°¯ìˆ˜ë¥¼ ë¬»ëŠ” ë©”ì„œë“œ
optional func numberOfSections(in tableView: UITableView, titleForHeaderInSection section: Int) -> String?
```

#### titleForHeaderInSection, titleForFooterInSection

Header, Footer title ì„ ë¬»ëŠ” method íŠ¹ì • section ì— í‘œì‹œ í•˜ê³  ì‹¶ì€ ë¬¸ìì—´ ì„ ë°˜í™˜ í•˜ëŠ” method

#### canEditRowAt

íŠ¹ì • ìœ„ì¹˜ì˜ í–‰ì´ í¸ì§‘ ê°€ëŠ¥í•œì§€ ë¬»ëŠ” ë©”ì„œë“œ

#### canMoveRowAt

íŠ¹ì • ìœ„ì¹˜ì˜ í–‰ì„ ì¬ì •ë ¬ í•  ìˆ˜ ìˆëŠ”ì§€ ë¬»ëŠ” ë©”ì„œë“œ

#### sectionIndexTitles

ë°ì´ë¸” ë·° ì„¹ì…˜ ì¸ë±ìŠ¤ íƒ€ì´í‹€ì„ ë¬»ëŠ” ë©”ì„œë“œ

#### sectionForSectionIndexTitle

ì¸ë±ìŠ¤ì— í•´ë‹¹í•˜ëŠ” ì„¹ì…˜ì„ ì•Œë ¤ì£¼ëŠ” ë©”ì„œë“œ

#### comit forRowAt

ìŠ¤ì™€ì´í”„ëª¨ë“œ, í¸ì§‘ ëª¨ë“œì—ì„œ ë²„íŠ¼ì„ ì„ íƒí•˜ë©´ í˜¸ì¶œë˜ëŠ” ë©”ì„œë“œ, í•´ë‹¹ ë©”ì„œë“œì—ì„œëŠ” í–‰ì— ë³€ê²½ì‚¬í•­ì„ Commit í•´ì•¼ í•¨

#### moveRowAt

í–‰ì´ ë‹¤ë¥¸ ìœ„ì¹˜ë¡œ ì´ë™ë˜ë©´ ì–´ë””ì—ì„œ ì–´ë””ë¡œ ì´ë™ í–ˆëŠ”ì§€ ì•Œë ¤ì£¼ëŠ” ë©”ì„œë“œ

### Delegate

TableViewì˜ ì™¸ê´€ê³¼ ë™ì‘ì„ ë‹´ë‹¹í•©ë‹ˆë‹¤. View ê°€ ë³€ê²½ë˜ëŠ” ìƒí™©ì„ Delegate ê°€ ë‹´ë‹¹ì„ í•©ë‹ˆë‹¤. View ëŠ” Delegate ì— ì˜ì¡´í•˜ì—¬ View ë¥¼ ì—…ë°ì´íŠ¸ í•©ë‹ˆë‹¤. í–‰ì˜ ë†’ì´, ì„ íƒí•˜ë©´ ì–´ë– í•œ action ì„ í• ê±´ì§€ ì •ì˜í•©ë‹ˆë‹¤

- í…Œì´ë¸” ë·°ì˜ ì‹œì‘ì ì¸ ë¶€ë¶„ì„ ì„¤ì •í•˜ê³ , í–‰ì˜ ì•¡ì…˜ ê´€ë¦¬, ì•¡ì„¸ëŸ¬ë¦¬ ë·° ì§€ì›, í…Œì´ë¸” ë·°ì˜ ê°œë³„ í–‰ í¸ì§‘ì„ ë„ì™€ ì¤Œ

#### didSelectRowAt

í–‰ì´ ì„ íƒë˜ì—ˆì„ë•Œ í˜¸ì¶œë˜ëŠ” ë©”ì„œë“œ

#### didDeselectRowAt

í–‰ì´ ì„ íƒ í•´ì œë˜ì—ˆì„ ë•Œ í˜¸ì¶œë˜ëŠ” ë©”ì„œë“œ

#### heightForRowAt

íŠ¹ì • ìœ„ì¹˜ í–‰ì˜ ë†’ì´ë¥¼ ë¬»ëŠ” ë©”ì„œë“œ

#### viewForHeaderInSection, viewForFooterInSection

ì§€ì •ëœ ìƒ‰ì…˜ì˜ í—¤ë” ë·° ë˜ëŠ” í‘¸í„°ë·°ì— í‘œì‹œí•  View ê°€ ì–´ë–¤ ê±´ì§€ ë¬»ëŠ” ë©”ì„œë“œ

#### heightForHeaderInSection, heightForHeaderInSection

ì§€ì •ëœ ìƒ‰ì…˜ì˜ í—¤ë” ë·° ë˜ëŠ” í‘¸í„°ë·°ì˜ ë†’ì´ë¥¼ ë¬»ëŠ” ë©”ì„œë“œ

#### willBeginEditingRowAt

í…Œì´ë¸” ë·°ê°€ í¸ì§‘ ëª¨ë“œì— ë“¤ì–´ê°”ì„ ë•Œ í˜¸ì¶œë˜ëŠ” ë©”ì„œë“œ

#### didEndEditingRowAt

í…Œì´ë¸” ë·°ê°€ í¸ì§‘ëª¨ë“œì—ì„œ ë¹ ì ¸ ë‚˜ì™”ì„ ë•Œ í˜¸ì¶œë˜ëŠ” ë©”ì„œë“œ

#### willDisplay

í…Œì´ë¸” ë·°ê°€ ì…€ì„ ì‚¬ìš©í•˜ì—¬ í–‰ì„ ê·¸ë¦¬ê¸° ì§ì „ì— í˜¸ì¶œë˜ëŠ” ë©”ì„œë“œ

#### didEndDisPlaying

í…Œì´ë¸” ë·°ë¡œë¶€í„° ì…€ì´ í™”ë©´ì— ì‚¬ë¼ì§€ë©´ í˜¸ì¶œë˜ëŠ” ë©”ì„œë“œ

## UIAlertController

Alert ì°½ì„ êµ¬ì„±í•˜ê³ , Alert ì„ present í•´ì„œ app ì˜ ì°½ì—ì„œ í‘œì‹œë˜ê²Œ ë©ë‹ˆë‹¤.

```swift
// alert ì°½ êµ¬í˜„ ì˜ˆì‹œ

	@IBAction func tabAddButton(_ sender: UIBarButtonItem) {
		// add ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ alert ì´ ìƒì„±ë˜ëŠ” btn ìƒì„±
		let alert = UIAlertController(title: "Create Todo", message: nil, preferredStyle: .alert)

		// Add ë²„íŠ¼ ìƒì„± - ë“±ë¡ ë²„íŠ¼ì„ ëˆ„ë¥¼ë•Œ textField ì˜ ë²„íŠ¼ì„ ê°€ì ¸ì˜¤ê¸°
		let registerBtn = UIAlertAction(title: "ADD", style: .default, handler: { [weak self] _ in
			guard let title = alert.textFields?[0].text else { return }
			let task = Task(title: title, done: false)
			self?.tasks.append(task)
			// task ê°€ ì¶”ê°€ ë ë•Œ ë§ˆë‹¤ tableView ë¥¼ reload í•˜ê¸°
			self?.tableView.reloadData()
		})

		// cancel ë˜ëŠ” btn ìƒì„±
		let cancelBtn = UIAlertAction(title: "CANCEL", style: .cancel, handler: nil)
		// add, cancel btn ì„ alert ì— ì¶”ê°€í•˜ê¸°
		alert.addAction(cancelBtn)
		alert.addAction(registerBtn)
		// textField ìƒì„±í•˜ê¸°
		alert.addTextField(configurationHandler: { textField in
			textField.placeholder = "Write your task."
		})
		// í™”ë©´ì— present í•˜ê¸°
		self.present(alert, animated: true, completion: nil)
	}
```

<img width="350" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2021-11-29 á„‹á…©á„’á…® 5 31 19" src="https://user-images.githubusercontent.com/28912774/144226425-4f799824-c10d-4aaf-a73d-57799b880ed2.png">

## UserDefaults

- ì•±ì„ ì¢…ë£Œí•˜ì—¬ë„ localStorage ì— ë°ì´í„°ë¥¼ ì €ì¥í•˜ëŠ”ê²ƒì„ ê°€ë¦¬í‚µë‹ˆë‹¤

- runtime ë™ì‘ í™˜ê²½ì—ì„œ app ì´ ì‹¤í–‰ë˜ëŠ” ë™ì•ˆ ê¸°ë³¸ ì €ì¥ì†Œì—ì„œ ë°ì´í„°ë¥¼ ê¸°ë¡í•˜ê³ , ê°€ì ¸ì˜¤ëŠ” ì—­í™œì„ í•˜ëŠ” interface ì…ë‹ˆë‹¤.

- key, value ìŒìœ¼ë¡œ ì €ì¥ë˜ë©°, singleton pattern ìœ¼ë¡œ ìƒì„±ë˜ì–´ app ì „ì²´ í•˜ë‚˜ì˜ instance ë§Œì´ ì¡´ì¬í•˜ê²Œ ë©ë‹ˆë‹¤.

- ì—¬ëŸ¬ê°€ì§€ type ì„ ì €ì¥í•  ìˆ˜ ìˆëŠ”ë°, swift ì•ˆì— ìˆëŠ” float, int, double, boolean ë“± ê¸°ë³¸ì ìœ¼ë¡œ ì œê³µí•˜ëŠ” type ê³¼ NSInt, NSString ë“± NS ê´€ë ¨ type ë„ ì €ì¥ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.

- todolist ì—ì„œ UserDefaults ê°€ ì‚¬ìš©ë˜ëŠ” ì˜ˆì‹œ

```swift
struct Task {
	var title: String
	var done: Bool
}

	// useDefault method ìƒì„±
	func saveTasks(){
		// ë°°ì—´ì— ìˆëŠ” tasks ë¥¼ dic í˜•íƒœë¡œ mapping í•˜ê¸°
		let data = self.tasks.map {
			[
				"title": $0.title,
				"done": $0.done
			]
		}
		let userDefaults = UserDefaults.standard
		// userDefaults ì˜ data ë¥¼ ë„£ê³ , Key ê°’ìœ¼ë¡œëŠ” tasks ë¡œ ì„¤ì •í•¨
		userDefaults.set(data, forKey: "tasks")
	}

	// ì €ì¥ëœ data load í•˜ëŠ” method
	func loadTasks() {
		let userDefaults = UserDefaults.standard
		guard let data = userDefaults.object(forKey: "tasks") as? [[String: Any]] else { return }
		// ë¶ˆëŸ¬ì˜¨ data ë¥¼ tasks ì— ë‹¤ì‹œ ì €ì¥
		self.tasks = data.compactMap {
			guard let title = $0["title"] as? String else { return nil }
			guard let done = $0["done"] as? Bool else { return nil }
			return Task(title: title, done: done)
		}
	}
}

	// task ì˜ list ìƒì„±: property observer ìƒì„±
	var tasks = [Task]() {
		// tasks ì˜ value ê°€ ì¶”ê°€ ë ë•Œ ë§ˆë‹¤ UserDefaults ì— í• ì¼ì´ ì €ì¥ë˜ê²Œ ë¨
		didSet {
			self.saveTasks()
		}
	}

	override func viewDidLoad() {
		super.viewDidLoad()
		// UserDefaults ì— ì €ì¥ë˜ì–´ ìˆëŠ” í• ì¼ë“¤ì„ ë¶ˆëŸ¬ì˜¤ê¸°
		self.loadTasks()
	}


```

---

ğŸ”¶ ğŸ”· ğŸ“Œ ğŸ”‘

## Reference

ìƒì–´ì˜ ê°œë°œ ë¸”ë¡œê·¸ - [https://shark-sea.kr/entry/iOS-TableView-Storyboard%EB%A1%9C-%EA%B5%AC%ED%98%84%ED%95%98%EA%B8%B0](https://shark-sea.kr/entry/iOS-TableView-Storyboard%EB%A1%9C-%EA%B5%AC%ED%98%84%ED%95%98%EA%B8%B0)

í‰ìƒ ê³µë¶€ë§Œí•´ì•¼í• ë“¯ - [https://gigas-blog.tistory.com/49](https://gigas-blog.tistory.com/49)

fastcampus - [https://fastcampus.co.kr/dev_online_iosappfinal](https://fastcampus.co.kr/dev_online_iosappfinal)
