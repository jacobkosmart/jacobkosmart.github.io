---
title: "ê³ ì°¨í•¨ìˆ˜ map, compactMap, flatMap"
excerpt: "Swift"

categories:
  - swift

toc: true
toc_sticky: true
---

## ğŸ”· Map

- ë§µ ê³ ì°¨í•¨ìˆ˜ë¥¼ í†µí•´ ì½œë ‰ì…˜ì˜ ìš”ì†Œë¥¼ ë³€í˜• ì‹œí‚¬ìˆ˜ ìˆìŠµë‹ˆë‹¤

```swift
let friendsArray = ["ì² ìˆ˜", "ì˜í¬", "ìˆ˜ì§„", "ì œì„ìŠ¤", "ë§ˆí¬"]

// ë§¤ì—´ ë§µí•‘
let myFriends = friendsArray.map {
	"ë‚´ì¹œêµ¬: " + $0
}
print(myFriends) // ["ë‚´ì¹œêµ¬: ì² ìˆ˜", "ë‚´ì¹œêµ¬: ì˜í¬", "ë‚´ì¹œêµ¬: ìˆ˜ì§„", "ë‚´ì¹œêµ¬: ì œì„ìŠ¤", "ë‚´ì¹œêµ¬: ë§ˆí¬"]


// Dictionary mapping
let myPetDicionary = [
	"ê³ ì–‘ì´" : "ì•¼ìš©",
	"ê°•ì•„ì§€" : "ë©ë©",
	"ì†¡ì•„ì§€" : "ìŒë§¤"
]

let petMapping =
myPetDicionary.map{ (kind, sound) in
	return ("ìš°ë¦¬ì§‘: \(kind)", "ìš¸ìŒì†Œë¦¬: \(sound)")
}
print(petMapping) // [("ìš°ë¦¬ì§‘: ê³ ì–‘ì´", "ìš¸ìŒì†Œë¦¬: ì•¼ìš©"), ("ìš°ë¦¬ì§‘: ê°•ì•„ì§€", "ìš¸ìŒì†Œë¦¬: ë©ë©"), ("ìš°ë¦¬ì§‘: ì†¡ì•„ì§€", "ìš¸ìŒì†Œë¦¬: ìŒë§¤")]

// Set mapping
let numberSet : Set<Int> = [1, 1, 2, 3, 4, 4, 5]

let setMapping = numberSet.map ({ (number: Int) -> Int in
	return number * 10
})
print("mapping set: \(setMapping)") // mapping set: [10, 30, 50, 20, 40]


// ì¶•ì•½ ë²„ì „ (í´ë¡œì ¸ ìƒëµ)
// ì£¼ë¡œ ìƒëµí•´ì„œ resultThree, resultFour ë¥¼ ë§ì´ ì‚¬ìš©í•¨
let resultOne =
numberSet.map ({ (number: Int) in
	return number * 10
})

let resultTwo = numberSet.map({ (number: Int) in number * 10})

let resultThree = numberSet.map({$0 * 10})

let resultFour = numberSet.map{ $0 * 10}

```

## ğŸ”· compactMap

- map ì€ ë³€ê²½ê°’ìœ¼ë¡œ nil ë„ ë“¤ì–´ê°€ë§Œ, compactMap ì„ ì‚¬ìš©í•˜ê²Œ ë˜ë©´ ë³€í˜•ì‹œí‚¤ëŠ” ê°’ì´ nil ì´ë©´ ê·¸ ê°’ì„ ì œê±° í•˜ê³  return

```swift
var myArray = ["one", "2", "three", "4"]

// map ì€ ë³€ê²½ì‹œí‚¤ëŠ” ê°’ìœ¼ë¡œ nil ë„ ë„£ì„ ìˆ˜ ìˆìŒ
let intArray = myArray.map({ (item: String) in
	return Int(item)
})
print(intArray) // [nil, Optional(2), nil, Optional(4)]


// compactMap ë©”ì†Œë“œ
let onlyIntArray = myArray.compactMap({ (item: String) in
	return Int(item)
})
print(onlyIntArray) // [2, 4]

```

## ğŸ”· flatMap

- collection ì•ˆì— collection ì´ ë“¤ì–´ ìˆëŠ” í˜„íƒœ 2ì°¨ì›

```swift
let myFriends = [["ì² ìŠ¤"], ["ì˜í¬"], ["ì œì„ìŠ¤", "ë³¸ë“œ"], ["ìŠ¤í‹°ë¸Œ"], ["Jacob", "Ko"]]

// flatmap ì„ í†µí•´ 1ì°¨ì›ì ìœ¼ë¡œ ë§Œë“¤ì–´ ì¤ë‹ˆë‹¤
// ë§ê·¸ëŒ€ë¡œ flat : í‰í‰í•˜ê²Œ í´ì¤€ë‹¤ëŠ” ì˜ë¯¸ì„
let flatMapped = myFriends.flatMap { (item:[String]) in
	return item
}

print(flatMapped) // ["ì² ìŠ¤", "ì˜í¬", "ì œì„ìŠ¤", "ë³¸ë“œ", "ìŠ¤í‹°ë¸Œ", "Jacob", "Ko"]

```

---

<!-- ğŸ”¶ ğŸ”· ğŸ“Œ ğŸ”‘ ğŸ‘‰ -->

## Reference

Swift Tip of the day - ìŠ¤ìœ„í”„íŠ¸ ê¸°ì´ˆ ë¬¸ë²• - [https://spangle-wedelia-2dc.notion.site/Swift-Tip-of-the-day-c428bfd990674bcfa2a4973e5d08c4eb](https://spangle-wedelia-2dc.notion.site/Swift-Tip-of-the-day-c428bfd990674bcfa2a4973e5d08c4eb)

ê¼¼ê¼¼í•œ ì¬ì€ ì”¨ì˜ ìŠ¤ìœ„í”„íŠ¸ ë¬¸ë²•í¸ - [https://book.jacobko.info/#/book/1186710233](https://book.jacobko.info/#/book/1186710233)
