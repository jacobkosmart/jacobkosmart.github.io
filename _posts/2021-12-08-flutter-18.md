---
title: "Nested navigation with GetX"
excerpt: "flutter"

categories:
  - flutter

toc: true
toc_sticky: true
---

App ì˜ Bottom Navigation ì„ ì‚¬ìš©í• ë•Œ í˜ì´ì§€ ì´ë™ì‹œ, BottomNavigation ì„ ìœ ì§€ í•˜ë©´ì„œ ì´ë™í•˜ëŠ” í• ë•Œ ì£¼ë¡œ ì‚¬ìš©ë˜ëŠ” Nested navigation ê¸°ëŠ¥ì…ë‹ˆë‹¤.

- Nested ê¸°ëŠ¥ì„ ì‚¬ìš©í• ë•Œ ëŠ” í•˜ê³ ì í•˜ëŠ” í˜ì´ì§€ëŠ” GetX ë¥¼ ì‚¬ìš©í•˜ëŠ”ê²ƒì´ ì•„ë‹ˆë¼, ê¸°ë³¸ flutter ì˜ ê¸°ëŠ¥ì¸ `Navigator`, `MaterialPageRoute` ë“±ì„ ì‚¬ìš©í•´ì•¼ í¸ë¦¬í•˜ê²Œ êµ¬ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## 1.í˜ì´ì§€ ì´ë™

```dart
// in lib/pages/internal_storage/internal_storage_page.dart

ElevatedButton(
  style: ElevatedButton.styleFrom(
    primary: Colors.redAccent,
    elevation: 0,
    shape: RoundedRectangleBorder(
      borderRadius: BorderRadius.circular(20),
    ),
  ),
  child: Text("Increase"),

  // AddCounter page ë¡œ ì´ë™
  onPressed: () {
    Navigator.push(
      context,
      MaterialPageRoute(
        builder: (context) => AddCounter(),
      ),
    );
  },
),

```

## 2.Nested routing ì„¤ì •

ì´ë™ëœ í˜ì´ì§€ì—ì„œ bottom navigation ì´ ë³´ì´ê²Œ í•˜ê¸° ìœ„í•´ì„  bottom navigation ì„¤ì • í•˜ëŠ” í˜ì´ì§€ì—ì„œ IndexedStack ë¶€ë¶„ì—ì„œ body component ë¶€ë¶„ page children ì—ì„œ Navigator ì—ì„œ setting ì´ í•„ìš”í•©ë‹ˆë‹¤

```dart
// in pages/dashboard/dashboard.dart

class MyDashBoard extends StatelessWidget {
  MyDashBoard({Key? key}) : super(key: key);

  // Navigator key ìƒì„±
  final GlobalKey<NavigatorState> navigatorKey = GlobalKey<NavigatorState>();

  @override
Widget build(BuildContext context) {
  return GetBuilder<DashboardController>(
      builder: (controller) {
        return Scaffold(
          body: SafeArea(
            child: IndexedStack(
              index: controller.tabIndex,
              children: [
                HomePage(),
                // NestingRouting ì„ ìœ„í•´ì„œ GetX ê°€ ì•„ë‹Œ Navigator ë¡œ ë„˜ê¹€
                Navigator(
                  onGenerateRoute: (routeSettings) {
                    return MaterialPageRoute(
                      builder: (context) => InternalStorage(),
                    );
                  },
                ),
                SettingsPage(),
              ],
            ),
          bottomNavigationBar: CustomAnimatedBottomBar(.....

```

## 3.ë’¤ë¡œ ê°€ê¸° ì„¤ì •(in Android App)

ìœ„ì—ì²˜ëŸ¼ nested Routing ì„ ì„¤ì •í• ë•Œ, android ê²½ìš° ì‹œìŠ¤í…œ ìƒì˜ ë’¤ë¡œê°€ê¸° ë²„íŠ¼ì„ ëˆ„ë¥´ê²Œ ë˜ë©´ ì´ì „í˜ì´ì§€ë¡œ ê°€ì§€ ì•Šê³ , root ê²½ë¡œë¡œ ë¹ ì ¸ ë‚˜ê°€ê²Œ ë˜ë©´ì„œ ì²˜ë¦¬ê°€ ì•ˆë˜ëŠ” ë¶€ë¶„ì´ ë°œìƒ í•©ë‹ˆë‹¤

ì´ë¶€ë¶„ì„ í•´ê²°í•˜ê¸° ìœ„í•´ì„œëŠ” ë’¤ë¡œê°€ê¸° ë²„íŠ¼ì˜ event ë¥¼ ì¡ì•„ë‚´ì„œ ì„¤ì •ì„ í•´ì¤˜ì•¼ í•©ë‹ˆë‹¤. ê·¸ë ‡ê²Œ í•˜ê¸° ìœ„í•´ì„œ `WillPopScope` ìœ„ì ¯ì„ ì‚¬ìš©í•´ì„œ event ì²˜ë¦¬ë¥¼ ë§‰ì•„ì£¼ë©´ ë©ë‹ˆë‹¤

```dart
class MyDashBoard extends StatelessWidget {
  MyDashBoard({Key? key}) : super(key: key);

  // Navigator key ìƒì„±
  final GlobalKey<NavigatorState> navigatorKey = GlobalKey<NavigatorState>();

  @override
  Widget build(BuildContext context) {
    // ë’¤ë¡œê°€ê¸° ë²„íŠ¼ì„ ëˆ„ë¥´ê²Œ ë˜ë©´ onWillPop ì— event ê°€ ì¡íˆê²Œ ë˜ëŠ”ê²ƒ
    return WillPopScope(
      onWillPop: () async {
        // maypop : pop í• ê»˜ ìˆìœ¼ë©´ popì„ í•˜ê³ , ì•„ë‹ˆë©´, app ì„ ì¢…ë£Œ ì‹œí‚¤ëŠ”ê²ƒ
        // pop í• ê»˜ ìˆìœ¼ë©´ true ì¸ë°, true ì´ë©´ app ì´ ì¢…ë£Œê°€ ë˜ê¸° ë•Œë¬¸ì— false ë¡œ ë°”ê¿” ì¤˜ì•¼ ë˜ê¸° ë•Œë¬¸ì— await ì•ì— ! ì„ ë„£ì–´ ì¤Œ
        return !await navigatorKey.currentState!.maybePop();
      },
      child: GetBuilder<DashboardController>(
        builder: (controller) {
          return Scaffold(
            body: SafeArea(
              child: IndexedStack(
                index: controller.tabIndex,
                children: [
                  HomePage(),
                  // NestingRouting ì„ ìœ„í•´ì„œ GetX ê°€ ì•„ë‹Œ Navigatior ë¡œ ë„˜ê¹€
                  Navigator(
                    key: navigatorKey,
                    onGenerateRoute: (routeSettings) {
                      return MaterialPageRoute(
                        builder: (context) => InternalStorage(),
                      );
                    },
                  ),
                  SettingsPage(),
                ],
              ),
            ),
            bottomNavigationBar: CustomAnimatedBottomBar(

```

<img width="350" alt="Screenshot " src="https://user-images.githubusercontent.com/28912774/145162041-45f5f0ab-ae2f-4253-9a7a-61eb515ca299.gif">

> [Nested navigation with GetX Practice Code](https://github.com/jacobkosmart/bottemNavBar-getx-flutter-template)

ğŸ”¶ ğŸ”· ğŸ“Œ ğŸ”‘

## Reference

GetX pub.dev - [https://pub.dev/packages/get](https://pub.dev/packages/get)

Jonas Poxleitner - [https://medium.com/@jonaspoxleitner/nested-navigation-with-getx-25401616c9db](https://medium.com/@jonaspoxleitner/nested-navigation-with-getx-25401616c9db)

ê°œë°œí•˜ëŠ” ë‚¨ì - [https://youtu.be/1aqAUVXJde0](https://youtu.be/1aqAUVXJde0)

<!-- <img width="350" alt="Screenshot " src=""> -->
