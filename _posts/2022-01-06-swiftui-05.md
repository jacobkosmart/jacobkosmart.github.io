---
title: "SwiftUI View 4 (Alert, ConfirmationDialog, PresentationStyle)"
excerpt: "SwiftUI"

categories:
  - swiftui

toc: true
toc_sticky: true
---

## ğŸ”·Alert, ActionSheet

ê°ê° ì•Œë¦¼ì°½ ë° ì•¡ì…˜ ì‹œíŠ¸ë¥¼ í™”ë©´ì— ì¶œë ¥í•˜ëŠ” ì»¨í…Œì´ë„ˆ ê°ì²´ ë¡œì¨ UIkit ì˜ UIAlertController ë¥¼ ê·¸ëŒ€ë¡œ í™œìš©í•˜ëŠ”ë°, ê¸°ì¡´ì—ëŠ” UIAlertController ì—ì„œ parameter ë¡œ UIAlertController.Style.action.Sheet ì™€ UIAlertController.Style.alert ì´ ê°ê° ë¶„ë¦¬ë˜ì„œ ì‚¬ì˜« ë©ë‹ˆë‹¤.

### ğŸ‘‰ Alert

```swift
// Alert ì¶œë ¥ ì˜ˆì‹œ
struct AlertExample: View {
  @State private var showingAlert = false

  var body: some View {
    VStack(spacing: 20) {
      // Aler ë²„íŠ¼ 1ê°œ
      Button(action: { self.showingAlert.toggle() }) {
        Text("ë²„íŠ¼ 1ê°œ Alert").font(.title)
      }
      .alert("ì œëª©", isPresented: $showingAlert) {
        Button("í™•ì¸", role: .none) {}
      } message: {
        Text("ë‚´ìš©")
      }

      // Alert ë²„íŠ¼ 2ê°œ
      Button(action: { self.showingAlert.toggle() }) {
        Text("ë²„íŠ¼ 2ê°œ Alert").font(.title)
      }
      .alert("ì œëª©", isPresented: $showingAlert) {
        Button("ì‚­ì œ", role: .destructive) {}
        Button("ì·¨ì†Œ", role: .cancel) {}
      } message: {
        Text("ë‚´ìš©")
      }
    }
  }
}
```

<img width="300" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º" src="https://user-images.githubusercontent.com/28912774/148469306-ef87b9c7-8c56-43d4-b287-691fb9052488.gif">

### ğŸ‘‰ ConfirmationDialog

- iOS 14 ì´ì „ì—ëŠ” `.actionSheet(...)` ìœ¼ë¡œ ì‚¬ìš©ë˜ì—ˆì§€ë§Œ, iOS 15 ë¶€í„°ëŠ” `.confirmationDialog()` ë¼ê³  ì´ë¦„ë„ ë°”ë€Œë„ ëª…ë ì–´ê°€ ë°”ë€Œì—ˆìŠµë‹ˆë‹¤

```swift
// ios14 ì´ì „: .ActionSheet
// iOS15 ë¶€í„° .confrmationDialog() ë¡œ ëª…ì¹­ì´ ë°”ë€œ
Button(action: { self.showingAlert.toggle()}) {
  Text("Show Action Sheet").font(.title)
}
.confirmationDialog(
  "Select",
  isPresented: $showingAlert,
  // title ì€ ê¸°ë³¸ì ìœ¼ë¡œ .hidden ì´ë¼ .visible ë¡œ í•´ì¤˜ì•¼ "Select" ë¼ëŠ” íƒ€ì´í‹€ì´ ë‚˜íƒ€ë‚¨
  titleVisibility: .visible,
  actions: {
    Button("1") {}
    Button("2") {}
    Button("Cancel", role: .cancel) {}
  }
)				// ios14 ì´ì „: .ActionSheet
// iOS15 ë¶€í„° .confrmationDialog() ë¡œ ëª…ì¹­ì´ ë°”ë€œ
Button(action: { self.showingAlert.toggle()}) {
  Text("Show Action Sheet").font(.title)
}
.confirmationDialog(
  "Select",
  isPresented: $showingAlert,
  // title ì€ ê¸°ë³¸ì ìœ¼ë¡œ .hidden ì´ë¼ .visible ë¡œ í•´ì¤˜ì•¼ "Select" ë¼ëŠ” íƒ€ì´í‹€ì´ ë‚˜íƒ€ë‚¨
  titleVisibility: .visible,
  actions: {
    Button("1") {}
    Button("2") {}
    Button("Cancel", role: .cancel) {}
  }
)
```

<img width="300" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º" src="https://user-images.githubusercontent.com/28912774/148469599-36b1c38b-0313-4461-9a16-4c00d047e366.gif">

## ğŸ”· PresentationStyle

UIKit ì—ì„œëŠ” present(\_:animated:completion:) ë§¤ì„œë“œë¥¼ ì‚¬ìš©í•´ ìƒˆë¡œìš´ ë·° ì»¨íŠ¸ë¡¤ëŸ¬ë¡œ ì „í™”í•˜ëŠ” ê²ƒê³¼ ë”ë¶ˆì–´ í”„ë¦¬ì  í…Œì´ì…˜ ìŠ¤íƒ€ì¼ì„ ë³€ê²½í•˜ì—¬ í™”ë©´ì— í‘œì‹œë˜ëŠ” ë°©ì‹ì„ ë‹¤ë¥´ê²Œ ì§€ì •í•  ìˆ˜ ë„ ìˆìŠµë‹ˆë‹¤

```swift
// iOS 12 ì´í•˜
modalPresentationStyle = .fullscreen // iOS 12 ì´í•˜ì¼ ë•Œ ê¸°ë³¸ê°’

// iOS 13 ì´ìƒ
modalPresentationStyle = .automatic // iOS 13 ì´ìƒì¼ë•Œ ê¸°ë³¸ê°’
modalPresentationStyle = .pageSheet // automatic ì¼ë•Œ ëŒ€ë¶€ë¶„ pageSheet ë¡œ ë™ì‘
```

SwiftUI ì—ì„œëŠ” pageSheet ì˜ Sheet, popover ìŠ¤íƒ€ì¼ 2ê°€ì§€ì˜ ìŠ¤íƒ€ì¼ì„ ì œê³µí•©ë‹ˆë‹¤

```swift
modalPresentationStyle = .pageSheet // Sheet
modalPresentationStyle = .popover // Popover

```

### ğŸ‘‰ Sheet

- pageSheet ìŠ¤íƒ€ì¼ë¡œ ìƒˆë¡œìš´ ë·°ë¥¼ ì¶œë ¥í•©ë‹ˆë‹¤.

- Alert, ActionSheet ì™€ ì‚¬ìš©ë²•ì´ ë¹„ìŠ·í•œë°, isPresented / item ì€ ì¶œë ¥ ì¡°ê±´ì„ ì „ë‹¬í•˜ê³  content ë§¤ê°œ ë³€ìˆ˜ì—ëŠ” ì¶œë ¥ë  ë·°ë¥¼ ì •ì˜ë©°, onDismiss ë§¤ê°œ ë³€ìˆ˜ì—ëŠ” í™”ë©´ì´ ë‹«íˆê¸° ì§ì „ì— ìˆ˜í–‰í•  ì‘ì—…ì„ ì •ì˜í•˜ë©´ ë©ë‹ˆë‹¤

#### EnvironmentMode

```swift
// presentationModeë¥¼ ì´ìš©í•œ dismiss ì˜ˆì‹œ
struct PresentationMode: View {
  @State private var shoeingSheet = false

  var body: some View {
    Button(action: { self.shoeingSheet.toggle() }) {
      Text("Present").font(.title).foregroundColor(.blue)
    }
    .sheet(
      isPresented: $shoeingSheet,
      onDismiss: { print("Dismissed") }, // í™”ë©´ì´ ë‹«íˆê¸° ì „ ìˆ˜í–‰í•  ì‘ì—…
      content: { Ch05_1_DataFlow.PresentedView() }) // ìƒˆë¡œ ì¶œë ¥ë  í™”ë©´
  }
}

struct PresentedView: View {
  // presentationMode ëŠ” í•´ë‹¹ ë·°ê°€ ë„ì›Œì ¸ ìˆëŠ” ìƒíƒœì¸ì§€ë¥¼ ì•Œë ¤ì£¼ëŠ” isPresented í”„ë¡œí¼í‹°ì™€
  // í™”ë©´ì„ ë‹«ëŠ” dismiss ë©”ì„œë“œ ì´ë ‡ê²Œ 2ê°€ì§€ë¥¼ ì œê³µí•˜ëŠ” í™˜ê²½ ë³€ìˆ˜ ì…ë‹ˆë‹¤
  @Environment (\.presentationMode) var presentationMode

  var body: some View {
    Button(action: {
      // isPresentedì˜ ê°’ì„ ê°€ì ¸ì™€ í˜„ì¬ ë·°ì˜ ì¶œë ¥ ìƒíƒœë¥¼ í™•ì¸í•©ë‹ˆë‹¤
      if self.presentationMode.wrappedValue.isPresented {
        // Sheet ìŠ¤íƒ€ì¼ì„ ì‚¬ìš©í•˜ëŠ” ê²½ìš°ëŠ” ë²„íŠ¼ì„ ëˆŒëŸ¬ì„œ dismiss ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ëŠ” ë°©ë²•ë¿ë§Œ ì•„ë‹ˆë¼,
        // í™”ë©´ìƒë‹¨ ë¶€ë¶„ì„ ì¡ì•„ ì•„ë˜ ë°©í–¥ìœ¼ë¡œ ëŒì–´ë‚´ë¦¬ëŠ” ë°©ë²•ìœ¼ë¡œë„ í˜„ì¬ í™”ë©´ì„ ë‹«ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤
        // í™”ë©´ì´ ë‹«íˆê³  ë‚˜ë©´ sheet ìˆ˜ì‹ì–´ì— onDismiss ë§¤ê°œ ë³€ìˆ˜ì— ì •ì˜í–ˆë˜ í´ë¡œì €ê°€ ë¶ˆë¦¬ê²Œ ë©ë‹ˆë‹¤
        self.presentationMode.wrappedValue.dismiss()
      }
    }) {
      Text("Tap to Dismiss").font(.title).foregroundColor(.red)
    }
  }
}
```

<img width="300" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º" src="https://user-images.githubusercontent.com/28912774/148472361-f872e04b-5fbb-47dd-aac8-53d77b879b84.gif">

#### BindingMode

- ìœ„ì™€ ê°™ì´ presentationMode í™˜ê²½ ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³  ë°”ì¸ë”© í”„ë¡œí¼í‹°ë¥¼ ì‚¬ìš©í•˜ì—¬ í™”ë©´ ë‹«ê¸°ë¥¼ êµ¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤

```swift
// Binding ì„ ì´ìš©í•œ dismiss ì˜ˆì‹œ
struct BindingMode: View {
  @State private var showingSheet = false

  var body: some View {
    Button(action: { self.showingSheet.toggle() }) {
      Text("BindingMode").font(.title).foregroundColor(.blue)
    }
    .sheet(isPresented: $showingSheet,
            onDismiss: { print("Dismissed") },
            content: {Ch05_1_DataFlow.PresentedViewWithBinding(isPresented: self.$showingSheet)

    })
  }
}

struct PresentedViewWithBinding: View {
  @Binding var isPresented: Bool

  var body: some View {
    Button(action: { self.isPresented.toggle() }) {
      Text("Tap to Dismiss").font(.title).foregroundColor(.red)
    }
  }
}
```

<img width="300" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º" src="https://user-images.githubusercontent.com/28912774/148473204-962f8016-7dcd-452b-86f0-33452c3b9635.gif">

- ë°”ì¸ë”© í”„ë¡œí¼í‹°ì— í™”ë©´ ì¶œë ¥ ì—¬ë¶€ë¥¼ ê´€ì¥í•˜ëŠ” í”„í¬í¼í‹°ì™€ ì—°ë™í•˜ì—¬, ë²„íŠ¼ì„ ëˆŒë €ì„ ë•Œ ê·¸ ê°’ì„ ë¹„í™œì„±í™”ì‹œì¼œ ì£¼ë©´ dismiss() ë©”ì„œë“œë¥¼ í˜¸ì¶œí•œ ê²ƒê³¼ ê°™ì€ íš¨ê³¼ê°€ ë‚˜íƒ€ì••ë‹ˆë‹¤

### ğŸ‘‰ Popover

- Popover ëŠ” ì½˜í…ì¸ ì™€ ê´€ë ¨ëœ ì¶”ê°€ì ì¸ ì •ë³´ë¥¼ ì œê³µí•˜ê±°ë‚˜ ì„¤ì •ì„ ë³€ê²½í•  ìˆ˜ ìˆë„ë¡ í˜„ì œ í™”ë©´ ìœ„ë¡œ ì¼ì‹œì ì¸ ë·°ë¥¼ í‘œì‹œí•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ìƒëŒ€ì ìœ¼ë¡œ í°í™”ë©´ì¸ ì•„ì´íŒ¨ë“œì— ì‚¬ìš©ë ë•Œ ë§Œë“¤ì–´ì§„ ìŠ¤íƒ€ì¼ ì…ë‹ˆë‹¤.

- Popover ëŠ” HIG(Human Interface Guidelines) ì—ì„œë„ ì•„ì´íŒ¨ë“œì—ì„œ ì‚¬ìš©ë˜ê¸¸ ê¶Œì¥ë˜ì§€ë§Œ ì•„ì´í°ì—ì„œ ì‚¬ìš©ë˜ë©´ ìë™ìœ¼ë¡œ PageSheet ìŠ¤íƒ€ì¼ë¡œ ì ìš©ë©ë‹ˆë‹¤

```swift
// Popover êµ¬í˜„ ì˜ˆì‹œ
struct popverExample: View {
  @State var showingPopover = false

  var body: some View {
    VStack {
      Button(action: { self.showingPopover.toggle() }) {
        Text("Popover Button").font(.largeTitle)
      }
    }
    .popover(isPresented: $showingPopover,
              // Popover ì˜ ì•µì»¤ë¡œ ì‚¬ìš©í•  ì˜ì—­ ë˜ëŠ” ìœ„ì¹˜ë¥¼ ê²°ì • í•©ë‹ˆë‹¤
              attachmentAnchor: .point(.bottomTrailing),
              // popover ì˜ í™”ì‚´í‘œê°€ ì–´ëŠ ë°©í–¥ì„ í–¥í• ì§€ ê²°ì • í•©ë‹ˆë‹¤ ê¸°ë³¸ê°’ì€ .top
              arrowEdge: .top,
              content: popoverContents)
  }

  // popover ì— í‘œì‹œë  ì½˜í…ì¸ 
  private func popoverContents() -> some View {
    VStack(alignment: .leading) {
      HStack {
        Button(action: { self.showingPopover = false }) { // íŒì˜¤ë²„ ì œê±°
          Text("Cancel").foregroundColor(.red)
        }
        Spacer()
        Text("New Event").font(.headline)
        Spacer()
        Button("Add(+)") {}
      }
      Divider().padding(.bottom, 8) // êµ¬ë¶„ì„  ì¶”ê°€

      Text("Title")
      TextField("ì œëª©", text: .constant(""))
      Text("Contents")
      TextField("ë‚´ìš©", text: .constant(""))
      Spacer()
    }
    .padding()
  }
}
```

<img width="300" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º" src="https://user-images.githubusercontent.com/28912774/148475458-dc895f41-b4bd-4168-95a8-b78aa5e5e4e3.gif">

<img width="300" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º" src="https://user-images.githubusercontent.com/28912774/148475677-9d677c77-6fcb-44a5-aaa5-92523a1f9b5b.gif">

---

<!-- <img width="300" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º" src=""> -->

ğŸ”¶ ğŸ”· ğŸ“Œ ğŸ”‘ ğŸ‘‰

## ğŸ—ƒ Reference

Apple developer official docs - [https://developer.apple.com/documentation/swiftui/view/alert(\_:ispresented:presenting:actions:message:)-8584l](<https://developer.apple.com/documentation/swiftui/view/alert(_:ispresented:presenting:actions:message:)-8584l>)

SwiftUIë¡œ ì•¡ì…˜ì‹œíŠ¸ ë„ìš°ê¸° (iOS 15, macOS Monterey) - [https://seorenn.tistory.com/207](https://seorenn.tistory.com/207)

ìŠ¤ìœ—í•œ SwiftUI - [https://book.jacobko.info/#/book/1190014815](https://book.jacobko.info/#/book/1190014815)
