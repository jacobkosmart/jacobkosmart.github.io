---
title: "Parcel"
excerpt: "Bundler"

categories:
  - Bundler

toc: true
toc_sticky: true
last_modified_at:
---

---

# Parcel

## 1.Parcel bundler ê°œë…

### ğŸ”¶ Bunbler ë€?

- ë‹¤ì–‘í•œ ê¸°ëŠ¥ì„ ê°€ì§€ê³  ìˆëŠ” Package ë¥¼ í†µí•´ì„œ ì›¹ì„ ê°œë°œí•˜ëŠ”ë° ì •ì‘, ì›¹ êµ¬ë™ì—ëŠ” HTML, CSS, JS ë§Œ ì‚¬ìš©ì´ ë©ë‹ˆë‹¤.

- ê·¸ë˜ì„œ ì¤‘ê°„ì—ì„œ Complie ì„ í•´ì•¼ë˜ëŠ”ë° Package ë“¤ì„ ë¬¶ì–´ì„œ í•œêº¼ë²ˆì— Complie ì‹œí‚¤ëŠ” ê²ƒì´ Bunlder ì˜ ì£¼ìš” íŠ¹ì§•ì…ë‹ˆë‹¤.

- ë‹¤ì–‘í•œ Pacakge (ì˜ˆ: Vue, React, SASS, TS, Barbel ë“±) ì„ í†µí•´ì„œ ì›¹ê°œë°œ í•˜ëŠ”ë°, í•„ìš”í•œ ì™¸ë¶€ Complier ë¥¼ bunlder ì— ë‹´ì•„ì„œ ì—°ê²°í•´ì¤˜ì„œ í•œë²ˆì— complie ì‹œí‚´ë‹ˆë‹¤.

### Parcel vs Webpack

![33](https://user-images.githubusercontent.com/28912774/118444013-92d56c00-b727-11eb-8d5e-85c19552b5f9.jpg)

## 2.Parcel bunder ì„¤ì¹˜

```bash
$ npm init -y # npm ì„¤ì¹˜
$ npm i -D parcel-bundler # ê°œë°œ ì˜ì¡´ì„± parcel-bundler ì„¤ì¹˜
# package.json ì—ì„œ ì„¤ì¹˜ í™•ì¸
```

```json
// in package.json
  "scripts": {
    "dev": "parcel index.html", // localhost í™˜ê²½ ì—°ê²°
    "build": "parcel build index.html" // ìµœì¢… build í™˜ê²½ ì—°ê²°
  },
```

## 3.ì •ì  íŒŒì¼ ì—°ê²°

- ì˜ˆì‹œ íŒŒì¼ë¡œ [Jacob's Dev](https://jacobkosmart.github.io/) ì˜ favicon ì„ ì—°ê²°í•´ ë³´ê² ìŠµë‹ˆë‹¤.

![jacob's devlog](https://user-images.githubusercontent.com/28912774/118448185-9f0ff800-b72c-11eb-963e-b0cb71c3d068.png)

> PNG to ICO [online ICO converter](https://www.icoconverter.com/)

- Parcel bundler ë¡œ complie í•˜ë©´ dist í´ë”ì— complie ëœ íŒŒì¼ë“¤ì´ ì €ì¥ ë˜ëŠ”ë°, favicon ì„ ì§ì ‘ dist í´ë”ì— ë„£ì–´ì¤˜ì„œ ì—°ê²° í•˜ëŠ”ê²ƒì€ ê¶Œì¥ ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤. (ì™œëƒë©´.. dist í´ë”ëŠ” complie í•  ë•Œë§ˆë‹¤ íŒŒì¼ì´ ë³€ê²½ë˜ëŠ” ì„ì‹œ í´ë” ì„±ê²©ì´ ìˆê¸° ë•Œë¬¸ì— ìë™ìœ¼ë¡œ ë„£ì–´ ì¤„ìˆ˜ ìˆëŠ” parcel-bundler package ë¥¼ ì‚¬ìš©í•˜ëŠ”ê²ƒì´ ê¶Œì¥ë¨)

> [parcel-plugin-static-files-copy](https://www.npmjs.com/package/parcel-plugin-static-files-copy)

```bash
# parcel-plugin-static-files-copy ì„¤ì¹˜
$ npm install -D parcel-plugin-static-files-copy
```

```json
// in package.json
"staticFiles": {
  "staticPath": "static"
}
```

- root ê²½ë¡œì— static í´ë”ë¥¼ ìƒì„±í•˜ê³ , ê·¸ì•ˆì— favicon.ico íŒŒì¼ì„ ë„£ì–´ ì¤ë‹ˆë‹¤.

- `$ npm run dev` í•˜ë©´ dis í´ë” ê²½ë¡œì— ìë™ìœ¼ë¡œ static í´ë”ì— ìˆëŠ” íŒŒì¼ë“¤ì„ complie ì‹œ ë„£ì–´ ì¤ë‹ˆë‹¤.

## 4.autoprefixer

### ğŸ”· Vendor Prefix ë€?

- css3ì˜ ê¸°ëŠ¥ì€ ì›¹í‘œì¤€ì´ ì•„ë‹ˆì˜€ìŠµë‹ˆë‹¤. ë•Œë¬¸ì— ì–´ë– í•œ ì†ì„±ì„ ì£¼ì—ˆì„ ë•Œì—, ë¸Œë¼ìš°ì €ë§ˆë‹¤ ì›í•˜ëŠ” í™”ë©´ì„ ì¶œë ¥í•˜ëŠ”ë° ì œí•œì ì…ë‹ˆë‹¤.

- vender prefix ëŠ” ìƒˆë¡œìš´ ê¸°ëŠ¥ì„ ëª¨ë‘ ì œê³µí•´ì•¼ í•  ë•Œ ë³€í™˜ íš¨ê³¼ë¥¼ ì ìš©í•˜ëŠ” ìŠ¤íƒ€ì¼ ì‹œíŠ¸ ë¼ê³  ì´í•´í•˜ëŠ”ê²Œ ë¹ ë¥¼ ìˆ˜ ìˆë‹¤

![image](https://user-images.githubusercontent.com/28912774/118452817-7b02e580-b731-11eb-8b80-39ba1674fa6a.png)

- CSS ìŠ¤íƒ€ì¼ ë¶€ë¶„ì— ì•ì— ë¶™ì´ëŠ” ê²ƒì„ ê³µê¸‰ ì—…ì²´ ì ‘ë‘ì‚¬(Vender Prefix) ê°ê°ì˜ ì†ì„± ë¶€ë¶„ì— ìë™ìœ¼ë¡œ ë¶™ì—¬ì£¼ëŠ” ê¸°ëŠ¥ì´ autoprefixer ì…ë‹ˆë‹¤.

- postcss ì™€ autoprefixer ì„¤ì¹˜

```bash
$ npm i -D postcss autoprefixer
```

- **browserslist** ì˜µì…˜ì€ í˜„ì¬ NPM í”„ë¡œì íŠ¸ì—ì„œ ì§€ì›í•  ë¸Œë¼ìš°ì €ì˜ ë²”ìœ„ë¥¼ ëª…ì‹œí•˜ëŠ” ìš©ë„ì…ë‹ˆë‹¤. ê·¸ ëª…ì‹œë¥¼ Autoprefixer íŒ¨í‚¤ì§€ê°€ í™œìš©í•˜ê²Œ ë©ë‹ˆë‹¤.

```json
// in package.json
  "browerslist" : [
    "> 1%",  // ì „ì„¸ê³„ 1í¼ì„¼íŠ¸ ì´ìƒì˜ ë¸Œë¼ìš°ì € ì¤‘ì—
    "last 2 versions" // ë§ˆì§€ë§‰ 2ê°œ ë²„ì „ ê¹Œì§€ëŠ” ì§€ì›ì„ í•˜ê² ë‹¤ëŠ” ì˜ë¯¸ ì„
  ]
```

- ì¦‰, vendor prefixer ë¥¼ ê° ë¸Œë¼ìš°ì € ê³µê¸‰ì—…ì²´ì˜ ë²”ìœ„ë¥¼ ì •í•´ì¤˜ì•¼ ì‚¬ìš©ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.

- root ê²½ë¡œì— `.postcssrc.js` ë¼ëŠ” íŒŒì¼ì„ ìƒì„± í•´ ì¤ë‹ˆë‹¤. (ë’¤ì— rcëŠ” Runtime Configuration ì˜ ì•½ì–´ - ë¶™ì€ íŒŒì¼ì€ êµ¬ì„± íŒŒì¼ì„ ì˜ë¯¸í•©ë‹ˆë‹¤)

```js
// in .postcssrc.js

// ESM (ECMA modules) ì—ì„œëŠ” import export ë¥¼ í†µí•´ì„œ ê°€ì ¸ì˜¤ê¸° ë‚´ë³´ë‚´ê¸°ë¥¼ í•¨
// node.js ì—ì„œëŠ” CommonJS ë°©ì‹ì„ ì‚¬ìš©

// import autoprefixer from 'autoprefixer'

// const autoprefixer = require('autoprefixer')  JS íŒŒì¼ì„ node í™˜ê²½ì—ì„œ ì™¸ë¶€ì—ì„œ ê°€ì ¸ì˜¤ëŠ” ëª…ë ¹ì–´
// ë”°ë¡œ ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³  ì•„ë˜ì™€ ê°™ì´ ë¶™ì—¬ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆìŒ

/* export {
  plugins: [
    autoprefixer
  ]
} */

module.exports = {
  // JS íŒŒì¼ì„ node í™˜ê²½ì—ì„œ ì™¸ë¶€ì—ì„œ ë‚´ë³´ë‚´ëŠ” ëª…ë ¹ì–´
  plugins: [require("autoprefixer")],
};
```

- ì‘ì„±í›„ì— `npm run dev` í•˜ë©´ error ë°œìƒ -> `PostCSS plugin autoprefixer requires PostCSS 8.`

- `postcss` ì™€ `autoprefixer` ì˜ ë²„ì „ì´ ì•ˆë§ì•„ ì¶©ëŒí•˜ëŠ” í˜„ìƒì…ë‹ˆë‹¤. `autoprefixer` ì˜ ë²„ì „ì„ `downgrade` í•´ì„œ `postcss` ì™€ ë§ì¶°ì„œ ì‚¬ìš©í•©ë‹ˆë‹¤.

```bash
$ npm i -D autoprefixer@9 # 9ë²„ì „ìœ¼ë¡œ ë‹¤ìš´ê·¸ë˜ì´ë“œ
```

- ì˜ˆì‹œë¡œ ìµœì‹  ê¸°ìˆ ë¡œ `display:flex;` ì ìš©í•˜ë©´ ìë™ìœ¼ë¡œ vendor prefixer ê°€ ë¶™ëŠ”ê²ƒì„ í™•ì¸ í• ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## 5.Babel

> [babel official site](https://babeljs.io/)

- Babelì€ ECMA Script2015 (EC6) ì´í›„ ë²„ì „ì˜ ì½”ë“œë¥¼ ì´ì „ JS ì—”ì§„ì—ì„œ ì‹¤í–‰í•  ìˆ˜ ìˆê²Œ ì´ì „ ë²„ì „ìœ¼ë¡œ ë³€í™˜í•˜ëŠ”ë° ì£¼ë¡œ ì‚¬ìš©ë˜ëŠ” JS trans complier ì…ë‹ˆë‹¤.

- ì˜ˆ) EC6 ì´í›„ì—ì„œ ì§€ì›ë˜ëŠ” arrow function ì„ babel ì„ í†µí•´ì„œ EC5 ì´í•˜ ë²„ì „ì—ì„œ í•´ì„í•  ìˆ˜ ìˆê²Œ function type ìœ¼ë¡œ ë³€í™˜ ë©ë‹ˆë‹¤.

![image](https://user-images.githubusercontent.com/28912774/118481297-49e4de00-b74e-11eb-8524-dc65b675e961.png)

### babel ì„¤ì¹˜

- babel core, babel preset-env 2ê°œì˜ package ì„¤ì¹˜ (ê°œë°œ ì˜ì¡´ì„± ë²„ì „)

```bash
$ npm i -D @babel/core @babel/preset-env
```

- root ê²½ë¡œì— `.babelrc.js` íŒŒì¼ ìƒì„± í•©ë‹ˆë‹¤.

```js
// in .babelrc.js

module.exports = {
  // preset-env module ë‚´ë³´ë‚´ê¸°
  presets: ["@babel/preset-env"],
};
```

- ìœ„ì˜ ì„¤ì •ì„ í•˜ê²Œ ë˜ë©´ ì•ìœ¼ë¡œ ìƒì„±ë˜ëŠ” JS íŒŒì¼ì€ ES5ë¡œ ìë™ ë³€ê²½ë˜ì–´ì„œ ë¸Œë¼ìš°ì €ì—ì„œ ë™ì‘ í•˜ê²Œ ë©ë‹ˆë‹¤.

- ğŸ“Œ ë§ˆì§€ë§‰ ì‘ë™ ì „ì— í™•ì¸ì‚¬í•­!! : `package.json` ì— `browerslist` ê°€ ì„¸íŒ… ë˜ì–´ìˆì–´ì•¼ babel ì´ ì‘ë™ í•©ë‹ˆë‹¤. (`autoprefixer`, `postcss` ê°€ ì´ë¯¸ ì„¤ì¹˜ ë˜ì–´ ìˆì„ ê²½ìš° browerslist ê°€ ì‘ì„±ë˜ì–´ ìˆìœ¼ë‹ˆ í™•ì¸ë§Œ í•˜ê³  ë„˜ì–´ê°€ë„ ë©ë‹ˆë‹¤.)

### babel async ë¹„ë™ê¸° í•¨ìˆ˜ ì ìš©

- bable core ê¸°ë³¸ ì‚¬í•­ë§Œìœ¼ë¡œ ë¹„ë™ê¸° í•¨ìˆ˜ëŠ” ì§€ì›í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. (ì¶”ê°€ë¡œ plugin-tansform-runtime)

- ì˜ˆ)

```js
async function test() {
  // EC6 ì—ì„œ ë¶€í„° ì§€ì›ë˜ëŠ” ë¹„ë™ê¸° í•¨ìˆ˜
  const promise = Promise.resolve(123);
  console.log(await promise);
}

test();
```

- ëŸ°íƒ€ì„ ì˜¤ë¥˜ ë°œìƒ

![image](https://user-images.githubusercontent.com/28912774/118483693-499a1200-b751-11eb-886a-b312d3d0e319.png)

- plugin-tansform-runtime íŒ¨í‚¤ì§€ ì„¤ì¹˜

```bash
$ npm i -D @babel/plugin-transform-runtime
```

```js
// in .babelrc.js ì—ì„œ module export ì„¸íŒ…

module.exports = {
  presets: ["@babel/preset-env"],
  plugins: [["@babel/plugin-transform-runtime"]],
};
```

- async ì •ìƒ ì‘ë™ í™•ì¸
  ![image](https://user-images.githubusercontent.com/28912774/118484044-bdd4b580-b751-11eb-8d01-1c663e1ad89f.png)

## 6.CLI

> [Parcel CLI](https://ko.parceljs.org/cli.html) - Command line interface

- ìœ ìš©í•œ ëª‡ê°€ì§€ CLI ëª…ë ¹ì–´

  - ê°œë°œìš© ì„œë²„ ë¹Œë“œ - `parcel index.html`

  - ì œí’ˆìš© ì—ì…‹ ë¹Œë“œ - `parcel build index.html`

  - complie files output ë³€ê²½ (default ëŠ” dist í´ë”) - `parcel build entry.js --out-dir build/output`

  - í¬íŠ¸ ë²ˆí˜¸ ë³€ê²½ (ê¸°ë³¸ê°’: 1234) -` parcel serve entry.js --port 1111`

  - ë¸Œë¼ìš°ì €ì—ì„œ ì—´ê¸° (complie í•˜ê³ ë‚˜ì„œ ë°”ë¡œ ë¸Œë¼ìš°ì €ì—ì„œ ì—´ì–´ì„œ í™•ì¸ ê°€ëŠ¥í•œ ì˜µì…˜ - default ëŠ” ë¹„í™œì„± ë˜ì–´ ìˆìŒ) - `parcel entry.js --open`

  - ë¹ ë¥¸ ëª¨ë“ˆ êµì²´ ë¹„í™œì„±í™” (defalut: HMR í™œì„± - Hot Module Replacement ëŠ” ëŸ°íƒ€ì„ì— í˜ì´ì§€ ìƒˆë¡œê³ ì¹¨ ì—†ì´ ìˆ˜ì •ëœ ë‚´ìš©ìœ¼ ã„¹ìë™ìœ¼ë¡œ ê°±ì‹ í•˜ëŠ” ë°©ì‹ì„ ë§í•©ë‹ˆë‹¤.) - `parcel entry.js --no-hmr`

  - íŒŒì¼ì‹œìŠ¤í…œ ìºì‹œ ë¹„í™œì„±í™” (defalut: ìºì‹œ í™œì„± - ìºì‹œê°€ ì €ì¥ë˜ì–´ ìˆì–´ì„œ load ì‹œê°„ì´ ë¹ ë¥´ì§€ë§Œ ê°€ë” cash ë•Œë¬¸ì— error ê°€ ë°œìƒë˜ê¸° ë„ í•˜ê¸° ë•Œë¬¸ì— ë¹„í™œì„± ì‹œí‚¬ ìˆ˜ ìˆìŒ) - `parcel build entry.js --no-cache`

### ì ìš© ì˜ˆ) Port number ë³€ê²½

```json
// in package.json

  "scripts": {
    "dev": "parcel index.html --port 8800",
    "build": "parcel build index.html"
  },
```

ğŸ”¶ ğŸ”· ğŸ“Œ ğŸ”‘

## Reference

- Parcel Official site - [https://parceljs.org/](https://parceljs.org/)

- HERORY Tech - [https://heropy.blog/2018/01/20/parcel-1-start/](https://heropy.blog/2018/01/20/parcel-1-start/)

- nm817 - [css ë²¤ë” í”„ë¦¬í”½ìŠ¤](<https://nm817.tistory.com/38#:~:text=%EB%B2%A4%EB%8D%94%20%ED%94%84%EB%A6%AC%ED%94%BD%EC%8A%A4(vendor%20prefix)%EB%9E%80%3F&text=%EB%B3%80%ED%99%98%20%ED%9A%A8%EA%B3%BC%EB%A5%BC%20%EC%A0%81%EC%9A%A9%ED%95%98%EB%8A%94,%EC%9D%B4%ED%95%B4%ED%95%98%EB%8A%94%EA%B2%8C%20%EB%B9%A0%EB%A5%BC%20%EC%88%98%20%EC%9E%88%EB%8B%A4.&text=%ED%91%9C%EC%A4%80%EC%9C%BC%EB%A1%9C%20%EC%A0%95%EC%9D%98%EB%90%98%EB%A9%B4%EC%84%9C%20vendor,vendor%20prefix%EA%B0%80%20%EC%82%AC%EC%9A%A9%EB%90%9C%EB%8B%A4.>)
