---
title: "GetX"
excerpt: "flutter"

categories:
  - flutter

toc: true
toc_sticky: true
---

> [GetX official page](https://pub.dev/packages/get)

## GetX 개요

Provider 와 같이 가장 많이 사용되는 상태관리 툴로써 GetX 는 크게 2가지 기능으로 나뉠 수 있습니다

- Navigation

- State Management

## GetX 사용

- GetX package 를 설치하고, `MaterialApp` 을 `GetMaterialApp` 으로 바꿔줘야 GetX 에 있는 기능들을 다 사용할 수 있습니다.

## Navigation

### 1.페이지 이동하기

```dart
ElevatedButton(
  onPressed: () {
    // 원래 material page 를 사용해야 함
    // Navigator.of(context).push(
    //   MaterialPageRoute(
    //     builder: (_) => ScreenTwo(),
    //   )
    // );

    // GetX를 사용해서 페이지 이동
    Get.to(() => ScreenTwo());
  },
  child: Text(
    "Screen 2 이동",
    style: TextStyle(fontSize: 20),
),
```

### 2.페이지 뒤로가기

```dart
ElevatedButton(
  onPressed: () {
    // 원래 뒤로 가기 기능 : pop 할때 뒤로갈 페이지가 있어야지 pop 을 하는데 안그려면 materialApp 을 완전히 나가버려서 black page 로 감
    // if(Navigator.of(context).canPop()){
    // Navigator.of(context).pop();
    // }

    // GetX 뒤로가기 : stack 을 하나 지우면서 pop 을 해야됨
    Get.back();
  },
  child: Text(
    '뒤로가기',
    style: TextStyle(fontSize: 20),
  ),
),
```

![Kapture 2021-11-16 at 19 56 03](https://user-images.githubusercontent.com/28912774/141973058-a99a0385-706d-4fb6-a9fc-b123e070487e.gif)

### 3.홈페이지로 바로가는 버튼

- `Get.off` 을 사용하면 home 으로 바로 갈 수 있는 버튼 을 만드는것

```dart
ElevatedButton(
  onPressed: () {
    // 원래는 pushReplacement 사용해서 ScreenTwo() 로 넘어가면 뒤로가기 안되게 함
    // Navigator.of(context).pushReplacement(
    //   MaterialPageRoute(
    //     builder: (_) => ScreenTwo(),
    //   ),
    // );

    // Get.off 를 사용하면 쌓여 있는 stack 이 지워지면서 home 화면으로 감
    Get.off(() => ScreenTwo());
  },
  child: Text(
    "전 페이지로 돌아가지 못하게하기",
    style: TextStyle(fontSize: 20),
  ),
),
```

![Kapture 2021-11-16 at 20 05 58](https://user-images.githubusercontent.com/28912774/141974478-c8fc05f3-a4ef-4ddd-a816-78835d38310c.gif)

### 4.모든 페이지 스택 삭제하기

- splash , login screen 을 만들 때, 어떠한 페이지를 띄우고서 바왔던 모든 page 들을 navigation stack 에서 삭제 시키는 것임

```dart
ElevatedButton(
  onPressed: () {
    // 모든 페이지를 삭제하고, 새로운 page 를 push 해주는것 pushAndRemoveUntil 을 사용하게 됨
    // Navigator.of(context).pushAndRemoveUntil(
    //   MaterialPageRoute(
    //     builder: (_) => ScreenTwo(),
    //   ),
    //   (route) => false,
    // );

    // Get.offAll 을 사용해서 뒤로가기 버튼을 눌러도 stack 이 다 지워지기 때문에 뒤로 갈수가 없게 됨
    Get.offAll(() => ScreenTwo());
  },
  child: Text(
    "모든 페이지 스택 삭제하기",
    style: TextStyle(fontSize: 20),
  ),
),
```

![Kapture 2021-11-16 at 20 26 06](https://user-images.githubusercontent.com/28912774/141977164-690c10d5-3f6c-465f-ba58-38020c0ba841.gif)

### 5.리턴값 받아오기

ScreenThree 에서 선택된 값 받아오기

```dart

// in navigation.dart

int returnVal = 0;

  Text(
    '리턴값 : $returnVal',
  ),
  ElevatedButton(
    onPressed: () async {
      // 받아온 값을 비동기로 resp 에 변수 선언함
      final resp = await Get.to(() => ScreenThree());
      // state 변경
      setState(() {
        returnVal = resp;
      });
    },
    child: Text(
      '리턴값 받아오기',
      style: TextStyle(fontSize: 20),
    ),
  ),

```

```dart
// in screen_three.dart
  int radioVal = 0;

  @override
  Widget build(BuildContext context) {
    return DefaultAppbarLayout(
      title: 'Screen Three',
      child: Center(
        child: Column(
          mainAxisAlignment: MainAxisAlignment.center,
          children: [
            Column(
              children: [
                RadioListTile(
                  title: Text('0'),
                  groupValue: radioVal,
                  value: 0,
                  onChanged: (int? value) {
                    setState(() {
                      radioVal = value!;
                    });
                  },
                ),
                RadioListTile(
                  title: Text('1'),
                  groupValue: radioVal,
                  value: 1,
                  onChanged: (int? value) {
                    setState(() {
                      radioVal = value!;
                    });
                  },
                ),
                RadioListTile(
                  title: Text('2'),
                  groupValue: radioVal,
                  value: 2,
                  onChanged: (int? value) {
                    setState(() {
                      radioVal = value!;
                    });
                  },
                ),
              ],
            ),
            ElevatedButton(
              onPressed: () {
                // Get.back 하면서 result: radioVal 값을 전달 하기
                // 뒤로가기 기능
                Get.back(result: radioVal);
              },
              child: Text(
                '뒤로가기',
                style: TextStyle(fontSize: 20),
              ),
            ),
          ],
        ),
      ),
    );
  }
```

![Kapture 2021-11-16 at 21 18 32](https://user-images.githubusercontent.com/28912774/141984066-e32b9db7-9b2e-47f5-a274-b22fdf0077f2.gif)

### 6.argument 값 보내기

위의 return 값을 받아오는 거와 반대로 정해진 argument 값도 다른 페이지에 전달할 수 있습니다 (Screen Four 로 보내기)

```dart
// in navigation.dart

ElevatedButton(
  onPressed: () {
    Get.to(() => ScreenFour(), arguments: 'GetX 값 보내기 test');
  },
  child: Text(
    'argument 보내기',
    style: TextStyle(fontSize: 20),
  ),
),

```

```dart
// in Screen four

child: Column(
  mainAxisAlignment: MainAxisAlignment.center,
  children: [
    Text(
      Get.arguments,
      style: TextStyle(fontSize: 20),
    ),
    ElevatedButton(
      onPressed: () {
        Get.back();
      },
      child: Text(
        '뒤로가기',
        style: TextStyle(fontSize: 20),
      ),
    ),
  ],
),
```

![Kapture 2021-11-16 at 21 42 13](https://user-images.githubusercontent.com/28912774/141987176-928755f3-9431-42ca-bec3-f7239f3856f6.gif)

### 7.Transition

GetX 에서 제공하는 많은 page transition 을 적용하면 좀 더 다이나믹 하게 페이지 전환을 할 수 있습니다.

- GetX 에서 제공하는 transition 속성은 다음과 같습니다

```dart
enum Transition {
  fade,
  fadeIn,
  rightToLeft,
  leftToRight,
  upToDown,
  downToUp,
  rightToLeftWithFade,
  leftToRightWithFade,
  zoom,
  topLevel,
  noTransition,
  cupertino,
  cupertinoDialog,
  size,
  native
}
```

```dart
ElevatedButton(
  onPressed: () {
    // GetX를 사용해서 페이지 이동
    Get.to(() => ScreenTwo(),
        transition: Transition.rightToLeftWithFade);
  },
  child: Text(
    "Transition",
    style: TextStyle(fontSize: 20),
  ),
),
```

![Kapture 2021-11-16 at 22 01 44](https://user-images.githubusercontent.com/28912774/141990130-0395a5b7-8115-44f7-b758-5c1b242e95ec.gif)

🔶 🔷 📌 🔑

## Reference

GetX pub.dev - [https://pub.dev/packages/get](https://pub.dev/packages/get)

Terry's Dev-Diary - [https://terry1213.github.io/flutter/flutter-getx/](https://terry1213.github.io/flutter/flutter-getx/)

코드 팩토리 - [https://youtu.be/wgJItCEL7hkhttps://youtu.be/wgJItCEL7hk](https://youtu.be/wgJItCEL7hk)
