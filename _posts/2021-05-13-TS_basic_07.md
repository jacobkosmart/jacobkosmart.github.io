---
title:  "07.TS Generic"
excerpt: "TypeScript"

categories:
  - TypeScript

toc: true
toc_sticky: true
last_modified_at: 
---

---



# TS Generic

## 1.Generics, Any ì™€ ë‹¤ë¥¸ì  

- íƒ€ì…ì„ ë‹¤ ë°›ê¸° ìœ„í•´ Any ë¥¼ ì‚¬ìš©í•˜ê²Œ ë˜ë©´ ì•„ë˜ì˜ ì½”ë“œì™€ ê°™ì´ error ê°€ ë°œìƒ ë©ë‹ˆë‹¤.

```ts
function helloString(message: string): string {
  return message;
}

function helloNumber(message: number): number {
  return message;
}

// ìœ„ì™€ ê°™ì´ ë°˜ë³µì ì¸ í•¨ìˆ˜ë“¤ ì´ ë°œìƒë˜ëŠ”ë°.. ê·¸ë˜ì„œ ë²”ìš©ì ìœ¼ë¡œ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œ any ë¥¼ ì‚¬ìš©í•  ë•Œ, 

// any ë¥¼ ì‚¬ìš©í•˜ê²Œ ë˜ë©´ ë°œìƒë˜ëŠ” ë¬¸ì œ 

function hello(message: any): any {
  return message;
}

// ì¶œë ¥ì€ ì˜ ë˜ì§€ë§Œ ì¶”ê°€ë¡œ ë§¤ì„œë“œë¥¼ ì‚¬ìš©í•  ë•Œ, error ê°€ ë°œìƒë¨
console.log(hello('Jacob'));
console.log(hello(80));

// error (str ì— ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” .length ë¥¼ hello() ê°€ any ì´ê¸° ë•Œë¬¸ì— ì‚¬ìš©í•  ìˆ˜ ì—†ìŒ)
console.log(hello('Jacob').length);

```

ğŸ”¶ ê·¸ë˜ì„œ `Generic` ì„ ì‚¬ìš©í•˜ê²Œ ë¨ìœ¼ë¡œ ìœ„ì™€ ê°™ì€ ë¬¸ì œë¥¼ í•´ê²° í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```ts

function helloGeneric<T>(message: T): T {
  return message;
}

//  message ê°€ 'Jacob' ì´ë¼ëŠ” literal í˜•ì‹ì´ ê·¸ëƒ¥ type ì´ ë˜ë²„ë¦¬ëŠ”ê²ƒ  -> Generic
console.log(helloGeneric('Jacob'));

// ê·¸ë ‡ê¸° ë•Œë¬¸ì— ì¶”ê°€ë¡œ .method ì‚¬ìš©ì´ ê°€ëŠ¥í•´ ì§ (any ì™€ ë‹¤ë¥¸ ì !!)
console.log(helloGeneric('Jacob').length);

// ì´ë²ˆì—” type ì´ number í˜•íƒœì¸ 80 ì´ ë˜ê¸° ë•Œë¬¸ì— .ìˆ«ìê´€ë ¨ method ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŒ
console.log(helloGeneric(80))

// íƒ€ì…ì´ true ë¼ëŠ” boolean íƒ€ì…ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆìŒ.
console.log(helloGeneric(true))
```


- Generic ì¥ì  : íƒ€ì…ìœ¼ë¡œ ëœ ì—°ì‚°ì´ ë‚´ë¶€ í•¨ìˆ˜ ë‚´ì—ì„œ ì‚¬ìš©ì´ ê°€ëŠ¥í•˜ê²Œ ë¨ (any ì™€ ë‹¤ë¥¸ì ì„ !!)



## 2.Generic Basic

```ts
function helloBasic<T>(message: T): T {
  return message;
}

// ì§ì ‘ generic ì— type ì„ ì§€ì •í•´ì„œ ì‚¬ìš©í•˜ëŠ” ë°©ë²• -> ë„£ê³  ì‚¬ìš©í•˜ë©´ ë’¤ì—ê°’ì´ ëª…ì‹œëœ type ê³¼ ê°™ì•„ì•¼ í•˜ê³ ,
helloBasic<string>("Jacob")

// ìœ„ì— <T> ê°€ ê°’ì„ ì¶”ë¡ í•´ì„œ <T> ê°€ number ì„ì„ ì¶”ì¸¡í•´ì„œ ì‚¬ìš©ë¨  -> ì•Šë„ê³  ì“°ë©´ ë’¤ì— ê°’ì—ë”°ë¼ ì•Œì•„ì„œ ì¶”ë¡ ë˜ì„œ ì‚¬ìš©ë¨
helloBasic(80);



// generic ì„ ì—¬ëŸ¬ê°œ ì‚¬ìš©í•œ ê²½ìš°

function helloBasic2<T, U>(message: T, comment: U): T {
  return message;
}

// T ëŠ” string ì´ë¼ê³  ëª…ì‹œ, U ëŠ” number ì„ì„ ëª…ì‚¬ ê·¸ëŸ¬ë©´ ë’¤ì—ëŠ” string, number í˜•íƒœì˜ ê°’ì´ ì™€ì•¼ í•¨
helloBasic2<string, number>("Jacob", 80)

// ëª…ì‹œë¥¼ ì•ˆí•˜ê³  ë„£ì„ë•ŒëŠ” ì•Œì•„ì„œ ë‘ê°œë‹¤ number ë¡œ ì¶”ë¡ ë¨. T ì™€ U ëŠ” number type ìœ¼ë¡œ ì¶”ë¡ ë˜ì„œ ì‚¬ìš©ë¨ (ë‹¨, <T, U> ë¥¼ ë„£ì—ˆê¸° ë•Œë¬¸ì— ë°˜ë“œì‹œ. 2ê°œì˜ ê°’ìœ¼ë¡œ ìˆì–´ì•¼ í•¨)
helloBasic2(36, 39)
```

## 3.Generic array & tuple

```ts

//  generic array
function helloArray<T>(message: T[]): T {
  return message[0];
}

// 2ê°œë‹¤ string ì¼ ê²½ìš°, ë‘˜ë‹¤ str ë¡œ ì¶”ë¡  ë˜ì–´ type ì´ ì§€ì •ë¨
helloArray(['Hello', 'world']);

//  ìë™ìœ¼ë¡œ ì¶”ë¡  ë˜ì–´ string | number ì´ë ‡ê²Œ union type ìœ¼ë¡œ ì§€ì •ë¨
helloArray(["hello", 5]);


// generic tutple

function helloTuple<T, K>(message: [T, K]): T {
  return message[0];
}

// array ì™€ ë§ˆì°¬ê°€ì§€ë¡œ ë‘˜ ë‹¤ str ìœ¼ë¡œ ë°›ì•„ì„œ ì‚¬ìš©ë¨ 
helloTuple(["Hello", "world"]);

// ê·¼ë° ì •í™•í•˜ê²Œ 0 ë²ˆ ì§¸ index ê°€  str ìœ¼ë¡œ ì¶”ë¡  ë¨ì— ë”°ë¼ .length ê°™ì€ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŒ
helloTuple(["Hello", 5]);
```

## 4.Generic Function


```ts

// generic alias
type HelloFunctionGeneric1 = <T>(message: T) => T;

const helloFunction1: HelloFunctionGeneric1 = <T>(message: T): T => {
  return message;
};


// generic interface
interface HelloFunctionGeneric2 {
  <T>(message: T): T
}


const helloFunction2: HelloFunctionGeneric2 = <T>(message: T): T => {
  return message;
}

// ê¸°ì¡´ì˜ alias, interface í˜•ì‹ì—ë‹¤ê°€ ê·¸ëƒ¥ generic ë§Œ ì¶”ê°€í•œ í˜•íƒœì„
```


## 5.Generic class


```ts

// generic class

class Person<T, K> {
  private _name: T;
  private _age: K;

  constructor(name: T, age: K) {
    this._name = name;
    this._age = age;
  }
}


new Person("Jacob", 39);

// str ìœ¼ë¡œ ì§€ì •í•˜ê³  number ë¥¼ ë„£ê¸° ë•Œë¬¸ì— error
new Person<string>(39);

// T, K ë¥¼ str , number ë¡œ ì§€ì •í–ˆê¸° ë•Œë¬¸ì— ë§ì¶°ì„œ ë‚˜ì™€ì•¼ í•¨
new Person<string, number>("Jacob", "age")
```


## 6.Generic with extends

- `class` ì—ì„œ ì‚¬ìš©ë˜ëŠ” `extends` ëŠ” ìƒì†ì˜ ê°œë…ì´ì§€ë§Œ `generic` ì—ì„œëŠ” ì¢€ ë‹¤ë¥¸ ì˜ë¯¸ë¥¼ ìì§€ê³  ìˆìŠµë‹ˆë‹¤.

```ts

// generic extends 
// íŠ¹ì • íƒ€ì…ë§Œ ì‚¬ìš©ì´ ê°€ëŠ¥í•˜ë‹¤ê³  ëª…ì‹œí•˜ëŠ”ê²ƒì„ ì¦‰, T ëŠ” string ë˜ëŠ” number type ë§Œì´ ë  ìˆ˜ ìˆë‹¤
// Type ì„ ì‚¬ìš©í• ë•Œ , ê°€ëŠ¥í•œ ê°€ì¥ ì‘ì€ë²”ìœ„ë¥¼ ì‚¬ìš©í•´ì„œ ì´ìš©í•˜ëŠ” ê²ƒì´ ë‚˜ì¤‘ì— ì»´íŒŒì¼ í• ë•Œ error ë¥¼ ì¤„ì¼ ìˆ˜ ìˆë‹¤.
// generic type ì„ ì‚¬ìš© í•  ë•ŒëŠ” extends í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì„ ì¶”ì²œ (ê·¸ë‚˜ë§ˆ, type ì˜ ë²”ìœ„ë¥¼ ì¤„ì—¬ì„œ ì‚¬ìš© í•  ìˆ˜ ìˆê¸° ë•Œë¬¸)

class PersonExtends<T extends string | number> {
  private _name: T;

  constructor(name: T) {
    this._name = name;
  }
}

// T ì— string ì´ ìˆìœ¼ë‹ˆê¹Œ ture
new PersonExtends("Jacob");

// T ì— number ê°€ ìˆìœ¼ë‹ˆê¹Œ true
new PersonExtends(80);

// T ì— boolean ì´ ì—†ìœ¼ë‹ˆê¹Œ false
new PersonExtends(true);

```

## 7.keyof & type lookup system

- keyof ì™€ generic ì„ ì´ìš©í•´ì„œ type ì„ ì°¾ì•„ë‚´ëŠ” ì‹œìŠ¤í…œì„ ë§Œë“œëŠ”ê²ƒ (íƒ€ì…ì„ ì •í™•í•˜ê²Œ ì°¾ì•„ë‚´ëŠ” ë°©ì‹ì„)

```ts
interface IPerson {
  name: string;
  age: number;
}

const person: IPerson = {
  name: 'Jacob',
  age: 80,
};

// keyof íƒ€ì… ì•ì— ë¶™ì—¬ì„œ ìƒˆë¡œìš´ íƒ€ì…ì„ ë§Œë“¤ì–´ ë‚´ëŠ” ê²ƒì„
type Keys = keyof IPerson;

const Keys: Keys = "age";

// IPerson[keyof Iperson] 
// => Iperson["name" | "age"]
// => Iperson["name"] | Iperson["age"]
// => string | number
// generic ì‚¬ìš© 
// KëŠ” keyof T ì— ì˜ í•´ ì¬í•œëœ í˜•íƒœ ë¼ëŠ” ê²ƒì„
function getProp<T, K extends keyof T>(obj: T, key: K): T[K] {
  return obj[key];
}

getProp(person, 'name')


function setProp<T, K extends keyof T>(obj: T, key: K, value: T[K]): void {
  obj[key] = value;
}

setProp(person, "name", "John")
```

ğŸ”¶ ğŸ”· ğŸ“Œ ğŸ”‘

## Reference

- TypeScript Deep Dive - [https://basarat.gitbook.io/typescript/project/compilation-context](https://basarat.gitbook.io/typescript/project/compilation-context)

- TypeScript - [https://www.typescriptlang.org/](https://www.typescriptlang.org/)

- HEROPY Tech - [https://heropy.blog/2020/01/27/typescript/](https://heropy.blog/2020/01/27/typescript/)

- DailyEngineering - [https://hyunseob.github.io/2017/01/14/typescript-generic/](https://hyunseob.github.io/2017/01/14/typescript-generic/)
